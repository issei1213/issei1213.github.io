<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on TechBlog</title><link>https://issei1213.github.io/posts/</link><description>Recent content in Posts on TechBlog</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Fri, 31 May 2024 00:27:26 +0900</lastBuildDate><atom:link href="https://issei1213.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Typescript Exhaustive Check</title><link>https://issei1213.github.io/posts/typescript-exhaustive-check/</link><pubDate>Fri, 31 May 2024 00:27:26 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript-exhaustive-check/</guid><description>èƒŒæ™¯ ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’èª­ã‚“ã§ã„ã¦ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã«ã¤ã„ã¦çŸ¥ã£ãŸã®ã§ã€TypeScriptã§ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã«ã¤ã„ã¦è‡ªåˆ†ãªã‚Šã«ã¾ã¨ã‚ã¦ã¿ãŸã€‚
æ¦‚è¦ ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã¨ã¯ã€å…¨ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…ã—ã¦ã„ã‚‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹ã“ã¨ã‚’æŒ‡ã™ã€‚ TypeScriptã¯æ§˜ã€…ãªã‚±ãƒ¼ã‚¹ã§åˆ©ç”¨ã§ãã‚‹ãŒã€ä»Šå›ã¯æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’åˆ©ç”¨ã—ã¦ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
æœ¬é¡Œ ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã™ã‚‹ã€‚ Fruitå‹ã«ã¯appleã€bananaã€orangeã®3ã¤ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ãŒã‚ã‚Šã€checkAllFruitHandleré–¢æ•°ã¯Fruitå‹ã‚’å¼•æ•°ã«å–ã‚Šã€ãã®å€¤ã«ã‚ˆã£ã¦å‡¦ç†ã‚’åˆ†å²ã—ã¦ã„ã‚‹ã€‚ ã“ã“ã§ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«console.logã§å‡ºåŠ›ã—ã¦ã„ã‚‹ã€‚
type Fruit = &amp;#39;apple&amp;#39; | &amp;#39;banana&amp;#39; | &amp;#39;orange&amp;#39;; function checkAllFruitHandler(fruit: Fruit): void { if(fruit === &amp;#39;apple&amp;#39;) { console.log(&amp;#39;This is an apple.&amp;#39;); return } else if (fruit === &amp;#39;banana&amp;#39;) { console.log(&amp;#39;This is a banana.&amp;#39;); return } else { console.log(&amp;#39;This is an orange.&amp;#39;); return } } checkAllFruitHandler(&amp;#39;apple&amp;#39;) // This is an apple. checkAllFruitHandler(&amp;#39;banana&amp;#39;) // This is an banana. checkAllFruitHandler(&amp;#39;orange&amp;#39;) // This is an orange.</description></item><item><title>PMã®è¦‹ç©ã‚‚ã‚Šæ‰‹æ³•</title><link>https://issei1213.github.io/posts/pm-estimate/</link><pubDate>Tue, 30 Apr 2024 23:00:03 +0900</pubDate><guid>https://issei1213.github.io/posts/pm-estimate/</guid><description>èƒŒæ™¯ ç›´è¿‘ã§PMã®è¦‹ç©ã‚‚ã‚Šã‚’è¡Œã†æ©Ÿä¼šãŒã‚ã£ãŸã®ã§ã€ãã®éš›ã«å‚è€ƒã«ã—ãŸè³‡æ–™ã‚’ã¾ã¨ã‚ã‚‹ã€‚
æ¦‚è¦ ã“ã¡ã‚‰ã®å‚è€ƒæ›¸ã‚’ã‚‚ã¨ã«è¦‹ç©ã‚‚ã‚Šã®æ–¹æ³•ã‚’ã¾ã¨ã‚ã‚‹
æœ¬é¡Œ è¦‹ç©ã‚‚ã‚Šã¯å·¥æ•°ã‚’å‰æã§ä½œæˆã—ã¦ã„ãã€‚ å·¥æ•°ãŒç²¾åº¦ãŒè’ã„ã€Œæ¦‚ç®—è¦‹ç©ã‚‚ã‚Šã€ã¨ã€ç²¾åº¦ã®é«˜ã„ã€Œè©³ç´°è¦‹ç©ã‚‚ã‚Šã€ã‚’æ®µéšçš„ã«æç¤ºã—ã¦ã„ãå¿…è¦ãŒã‚ã‚‹ã€‚
æ¦‚ç®—è¦‹ç©ã‚‚ã‚Šï¼šç²¾åº¦ãŒè’ã„ãŒã€çŸ­æ™‚é–“ã§ä½œæˆã§ãã‚‹ è©³ç´°è¦‹ç©ã‚‚ã‚Šï¼šç²¾åº¦ãŒé«˜ã„ãŒã€æ™‚é–“ãŒã‹ã‹ã‚‹ æ¦‚ç®—è¦‹ç©ã‚‚ã‚Š ä¸ç¢ºå®Ÿæ€§ãŒå¤šã„æ®µéšã§æå‡ºã™ã‚‹è¦‹ç©ã‚‚ã‚Šã®ã“ã¨ã€‚ ã“ã®è¦‹ç©ã‚‚ã‚Šã‚’ä½œæˆã™ã‚‹æ™‚ã«ã¯ã€ä»¥ä¸‹ã®å†…å®¹ã‚’æ˜è¨˜ã—ã¦ãŠãã“ã¨ãŒé‡è¦ã€‚
ã€Œã“ã‚Œã¯ç¾æ™‚ç‚¹ã§ã®æ¦‚ç®—è¦‹ç©ã‚‚ã‚Šã§ã™ã€‚è©³ç´°è¦‹ç©ã‚‚ã‚Šã¯è¨­è¨ˆå®Œäº†å¾Œã«æ”¹ã‚ã¦è¡Œã„ã¾ã™ã€ã¨æ—¥ä»˜ã¨åˆã‚ã›ã¦æ˜è¨˜ã™ã‚‹ å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã«å½±éŸ¿ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã€ã€Œå¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æºã®å†…å®¹ã«ã‚ˆã£ã¦å¤‰å‹•ã™ã‚‹å¯èƒ½æ€§ã‚ã‚Šã€ã¨æ˜è¨˜ã™ã‚‹ ã¾ãŸã€æ¦‚ç®—è¦‹ç©ã‚‚ã‚Šã‚’ä½œæˆã™ã‚‹æ™‚ã«ã¯ã€ãƒãƒƒãƒ•ã‚¡ã‚’è¦‹è¾¼ã‚“ã§ä½œæˆã™ã‚‹ã€‚è¿½åŠ äºˆç®—ãŒç™ºç”Ÿã—ãŸæ™‚ã«ã€èª¿æ•´ãŒå¤§å¤‰ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
è©³ç´°è¦‹ç©ã‚‚ã‚Š ä¸ç¢ºå®Ÿæ€§ã‚’ã‹ãªã‚Šæ½°ã—ãŸçŠ¶æ…‹(è¦ä»¶å®šç¾©ã‚„è¨­è¨ˆãŒå®Œäº†ã—ãŸçŠ¶æ…‹)ã§æç¤ºã™ã‚‹è¦‹ç©ã‚‚ã‚Š
Exï¼‰ECã‚µã‚¤ãƒˆã®å ´åˆã€ç”»é¢æ•°ã‚„æ©Ÿèƒ½ã®è©³ç´°ãŒæ˜ç¢ºã«ãªã£ã¦ã„ã‚‹çŠ¶æ…‹
æ­£ã—ã„è¦‹ç©ã‚‚ã‚Šæ–¹ã®æ‰‹é † è¦‹ç©ã‚‚ã‚Šã®ä¸€ç•ªå¤±æ•—ã—ã‚„ã™ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã€å®šä¾‹ä¼šè­°ãªã®ã§å£é ­ã®ã¿ã§ã–ã£ãã‚Šã¨è¦‹ç©ã‚‚ã‚Šã‚’æç¤ºã™ã‚‹ã“ã¨ã€‚ ã‹ãªã‚‰ãšæŒã¡å¸°ã£ã¦è¦‹ç©ã‚‚ã‚Šã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨å¤§äº‹ã€‚
ä»Šå›ã‹ã®æ­£ã—ã„æ‰‹é †ã«é–¢ã—ã¦ã¯ã€ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—è¦‹ç©ã‚‚ã‚Šã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ã„ã‚‹ã€‚
ãƒœãƒˆãƒ ã‚¢ãƒƒãƒ—è¦‹ç©ã‚‚ã‚Š
æˆæœç‰©ã‚„ä½œæ¥­ã‚’åˆ†å‰²ã—ã¦ãã‚Œãã‚Œã®æ§‹æˆè¦ç´ ã®å·¥æ•°ã‚’ç®—å‡ºã—ã¦ã€ç©ã¿ä¸Šã’ã¦å…¨ä½“ã®å·¥æ•°ã‚’è¦‹ç©ã‚‚ã‚‹æ–¹æ³•ã€‚
æ‰‹é †1: ã‚„ã‚‹ã“ã¨ã‚’ç´°åˆ†åŒ–ã—ã¦ç©ã¿ä¸Šã’å¼ã§è¦‹ç©ã‚‚ã‚Š èª°ãŒä½•ã‚’ã™ã‚‹ã‹ã‚’æ˜ç¢ºã«ã—ã€ãƒ¡ãƒ³ãƒãƒ¼ã®ã‚¿ã‚¹ã‚¯ãƒ¬ãƒ™ãƒ«ã‚’è½ã¨ã—è¾¼ã‚€ã€‚ ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã‚’å‰‡ã‚Šã€è¦‹ç©ã‚‚ã‚Šè¡¨ã‚’ä½œæˆã—ã¦ã„ã
å·¥æ•°ã¯å„é ˜åŸŸã®å°‚é–€å®¶ã«å…¥åŠ›ã—ã¦ã„ãã€‚PMãŒä½œæˆã™ã‚‹å ´åˆã§ã‚‚ã€æœ€çµ‚çš„ã«å°‚é–€å®¶ã«ç¢ºèªã—ã¦ã‚‚ã‚‰ã†ã“ã¨ãŒé‡è¦ã€‚ å·¥æ•°ã¯1, 3, 5, 10, 15 &amp;hellip;ã‚’5äººæ—¥ä»¥ä¸Šã®å·¥æ•°ã¯5äººæ—¥å˜ä½ã§è¦‹ç©ã‚‚ã‚‹ ã“ã‚Œã¯å®Ÿéš›ã®ã‚¿ã‚¹ã‚¯ã‚’é‚è¡Œã—ã¦ã„ãã¨ã€äºˆæƒ³å¤–ã®ä½œæ¥­ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ãŒã‚ã‚‹ãŸã‚ã€ãƒãƒƒãƒ•ã‚¡ã‚’ç©ã‚€ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã‚‹ã€‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼ã®ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆå·¥æ•°ã‚„ãƒ†ã‚¹ãƒˆå·¥æ•°ãªã©ã¯æ¼ã‚Œã¦èµ¤å­—ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€è¦‹ç©ã‚‚ã‚Šã®éš›ã«ã¯å¿…ãšå…¥åŠ›ã™ã‚‹ã“ã¨ã€‚ é …ç›® å·¥æ•° è²»ç”¨ 1 ãƒˆãƒƒãƒ—ç”»é¢ã€€ 5 250,000 2 ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ 3 150,000 3 ãƒã‚¤ãƒšãƒ¼ã‚¸ç”»é¢ 5 250,000 4 è¨˜äº‹ç”»é¢ 10 500,000 5 ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ 15 750,000 6 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ 15 750,000 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; 28 ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆå·¥æ•° 30 1,500,000 29 ãƒ†ã‚¹ãƒˆå·¥æ•° 15 750,000 å·¥æ•°ãŒå…¥åŠ›ã™ã‚‹ã¨ã€ãã®äººã®ï¼‘æ—¥ã‚ãŸã‚Šã®å˜ä¾¡ã‚’ã‹ã‘ã‚‹ã¨ã€è²»ç”¨ãŒç®—å‡ºã§ãã‚‹ã€‚ ã“ã†ã™ã‚‹ã“ã¨ã§ã€æç¤ºã•ã‚ŒãŸå´ã‹ã‚‰ã¿ã¦ã‚‚ã€Œæ˜æœ—ä¼šè¨ˆã€ã«ãªã‚Šã€ä¿¡é ¼ã—ã‚„ã™ããªã‚‹ã€‚</description></item><item><title>Jestã®ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰</title><link>https://issei1213.github.io/posts/readable-testing-code/</link><pubDate>Mon, 29 May 2023 02:00:03 +0900</pubDate><guid>https://issei1213.github.io/posts/readable-testing-code/</guid><description>èƒŒæ™¯ ä»Šé€±ã€ç¤¾å†…ã®ãƒ¡ãƒ³ãƒãƒ¼ã‹ã‚‰ä»¥ä¸‹ã®ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®è¨˜äº‹ã‚’è¦‹ã›ã¦ã‚‚ã‚‰ã£ãŸã€‚ ã‹ãªã‚Šè‡ªåˆ†ã®ä¸­ã§ã•ã•ã£ãŸã®ã§ã€Jestã®å ´åˆã©ã†ã™ã‚‹ã‹ã‚’è€ƒãˆã¦ã¿ãŸ
ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
éåº¦ãªDRYã‚’è¡Œã‚ãšã€APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã ã¨æ€ã£ã¦æ›¸ã è„³å†…ãƒ¡ãƒ¢ãƒªã‚’æ¶ˆè²»ã•ã›ãªã„â€œãƒªãƒ¼ãƒ€ãƒ–ãƒ«ãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰â€ã®æ›¸ãæ–¹
æ¦‚è¦ ä¸Šè¨˜ã®å‚è€ƒè¨˜äº‹ã‚’å‚è€ƒã«ã€Jest(React)ã®å ´åˆã€ã©ã®ã‚ˆã†ã«ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã‹ã‚’è€ƒãˆã¦ã¿ãŸã€‚ ä»Šå›ã¯ã€UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚«ã‚¹ã‚¿ãƒ Hookãã‚Œãã‚Œã®ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã€‚
æœ¬é¡Œ å‚è€ƒã®è¨˜äº‹ã«ã¯ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã«ã¯ã€ä»¥ä¸‹ã®æ§˜ã«æ›¸ãå¿…è¦ãŒã‚ã‚‹è¨˜è¼‰ã—ã¦ã„ã‚‹
ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã«ãŠã„ã¦ã€éåº¦ãªDRYã¯èª­ã¿ã‚„ã™ã•ã®æ•µ è³¢ãã¦ãƒ­ã‚¸ã‚«ãƒ«ãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚ˆã‚Šã€èª°ã§ã‚‚(éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚‚)èª­ã‚ã‚‹æ„šç›´ãªãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ è„³å†…ãƒ¡ãƒ¢ãƒªã‚’ä½¿ã‚ãªã„ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯ãƒªãƒ¼ãƒ€ãƒ–ãƒ« å¤‰æ•°ã‚’ãªãã—ã€ä¸Šã‹ã‚‰é †ç•ªã«è¦‹ã‚‹ã ã‘ã§ãƒ†ã‚¹ãƒˆã®æ„å›³ãŒã‚ã‹ã‚‹ã‚ˆã†ã«ã™ã‚‹ å®Ÿè¡Œå¯èƒ½ãªAPIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã ã¨æ€ã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã“ã†(ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã˜ã‚ƒãªãã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ) ã‚‚ã£ã¨ãƒªãƒ¼ãƒ€ãƒ–ãƒ«ã«ã™ã‚‹ã‚³ãƒ„
å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«è¿‘ã„ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã™ã‚‹ ã€Œã‚ã‚ã‚ã€ã€Œãƒ†ã‚¹ãƒˆãƒ†ã‚¹ãƒˆã€ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‘ã€ã¿ãŸã„ãªãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯NG describe / context / itã®èª¬æ˜ã‚’ä¸å¯§ã«æ›¸ã ã€Œit &amp;ldquo;é©åˆ‡ãªå€¤ã‚’è¿”ã™&amp;rdquo;ã€ã¿ãŸã„ãªå…·ä½“æ€§ã®ãªã„èª¬æ˜ã¯NG ã™ã¹ã¦ã®æƒ…å ±ãŒ1ç”»é¢ã«åã¾ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒç†æƒ³ ä¸Šä¸‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒé »ç¹ã«ç™ºç”Ÿã—ãŸã‚Šã€ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã«è¡Œã‹ãªãã‚ƒã„ã‘ãªã„ã®ã¯NG DRYç¦æ­¢ã¯ã‚ãã¾ã§åŸå‰‡ã€‚é©å®œãƒ¡ãƒªãƒƒãƒˆãƒ»ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’å¤©ç§¤ã«ã‹ã‘ã‚‹ã€‚ ã€Œæ˜ç¢ºãªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹DRYã€ã‚„ã€Œå¯èª­æ€§ã®æãªã‚ãªã„æŠ½è±¡åŒ–ã€ã¾ã§æ”¾æ£„ã™ã‚‹ã®ã¯NG ä¸Šè¨˜ã‚’è€ƒæ…®ã—ã¦ã€React(Jest)ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’æ›¸ã„ã¦ã„ã
UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ã‚¹ãƒˆ ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ inputã‚¿ã‚°ã§å…¥åŠ›ã—ãŸå€¤firstNameã¨lastNameãŒã€pã‚¿ã‚°ã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚
// @ref: https://react.dev/learn/reusing-logic-with-custom-hooks#custom-hooks-let-you-share-stateful-logic-not-state-itself import { useFormInput } from &amp;#39;./useFormInput&amp;#39;; export const Form = () =&amp;gt; { const firstNameProps = useFormInput(&amp;#39;&amp;#39;); const lastNameProps = useFormInput(&amp;#39;&amp;#39;); return ( &amp;lt;&amp;gt; &amp;lt;label&amp;gt; First name: &amp;lt;input type=&amp;#39;text&amp;#39; name=&amp;#39;firstName&amp;#39; {.</description></item><item><title>Testing Libraryã§æš—é»™çš„ãªãƒ­ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ãŸDOMã®å–å¾—æ–¹æ³•</title><link>https://issei1213.github.io/posts/testing-library_getbyrole/</link><pubDate>Sun, 21 May 2023 23:11:10 +0900</pubDate><guid>https://issei1213.github.io/posts/testing-library_getbyrole/</guid><description>èƒŒæ™¯ ç¾åœ¨ä»¥ä¸‹ã®æ›¸ç±ã§ãƒ•ãƒ­ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’å­¦ç¿’ã—ã¦ã„ã‚‹ã®ã§ã€å‹‰å¼·ã«ãªã£ãŸDOMã®å–å¾—æ–¹æ³•ã‚’ã¾ã¨ã‚ã‚‹ã€‚ æ›¸ç±é€šã‚Šã€Reactã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆæ–¹æ³•ã‚’è¨˜è¼‰ã—ã¦ã„ãã€‚
æ¦‚è¦ Reactã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®DOMã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã§ã€æš—é»™çš„ãªãƒ­ãƒ¼ãƒ«ã‚’æ´»ç”¨ã—ãŸå–å¾—æ–¹æ³•ãŒã‚ã£ãŸã®ã§ã€ã¾ã¨ã‚ã¦ã„ã
æœ¬é¡Œ ä»¥ä¸‹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’ã—ã¦ã„ãã€‚
import {ReactNode} from &amp;#34;react&amp;#34;; export const Heading = ({children}: {children: ReactNode}) =&amp;gt; { return ( &amp;lt;h1&amp;gt;{children}&amp;lt;/h1&amp;gt; ); }; ä»Šå›ã¯ç°¡æ˜“çš„ã«ã€propsã®å€¤ãŒh1ã‚¿ã‚°ã§è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ãã€‚
import {render, screen} from &amp;#34;@testing-library/react&amp;#34;; import {Heading} from &amp;#34;./Heading&amp;#34;; test(&amp;#39;propsãŒå€¤ãŒh1ã‚¿ã‚°ã«å­˜åœ¨ã—ã¦ã„ã‚‹ã“ã¨&amp;#39;, () =&amp;gt; { render(&amp;lt;Heading&amp;gt;test&amp;lt;/Heading&amp;gt;) expect(screen.getByRole(&amp;#39;heading&amp;#39;, {name: &amp;#39;test&amp;#39;})).toBeInTheDocument() }) ä¸Šè¨˜ã®getByRoleã®ç¬¬ä¸€å¼•æ•°ã«headingã‚’æŒ‡å®šã—ã¦ã„ã‚‹ãŒã€h1ã‚¿ã‚°ã®æš—é»™çš„ãªãƒ­ãƒ¼ãƒ«ãŒheadingã§ã‚ã‚‹ãŸã‚ã€headingã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã€‚
ã“ã®ã‚ˆã†ã«æš—é»™çš„ãªãƒ­ãƒ¼ãƒ«ã‚’ã†ã¾ãä½¿ãˆã°ã€test-idã¿ãŸã„ãªã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ãªã©ã‚’ä½¿ç”¨ã›ãšã«ã€ãƒ†ã‚¹ãƒˆã‚’ã‹ãã“ã¨ãŒã§ãã‚‹ã€‚ ã¾ãŸã€Testing Libraryã‚‚å…¬å¼ã‚‚æš—é»™çš„ãªãƒ­ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã‚‹ã€‚
æš—é»™çš„ãªãƒ«ãƒ¼ãƒ«ä¸€è¦§ã¯ã“ã¡ã‚‰ã‹ã‚‰ç¢ºèªãŒã§ãã‚‹ã€‚
â€»ä¸Šè¨˜ã¯aria-queryã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚ã‚‹ãŒã€Testing Libraryã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯å†…éƒ¨çš„ã«ä¾å­˜ã™ã‚‹ã®ã§ã€ä¸Šè¨˜ã‚’å‚è€ƒã«ã—ã¦ã‚‚å•é¡Œãªã„
ã¾ã¨ã‚ UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹éš›ã¯ã€æš—é»™çš„ãªãƒ­ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã‚„ã™ããªã‚‹ã®ã§ã€ãœã²æ´»ç”¨ã—ã¦ã„ããŸã„ã€‚
å‚è€ƒæ–‡çŒ® Testing Library
æš—é»™çš„ãªãƒ«ãƒ¼ãƒ«ä¸€è¦§(aria-query)
ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã®ãŸã‚ã®ãƒ†ã‚¹ãƒˆå…¥é–€ ä»Šã‹ã‚‰ã§ã‚‚çŸ¥ã£ã¦ãŠããŸã„è‡ªå‹•ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã®å¿…é ˆçŸ¥è­˜</description></item><item><title>é–¢æ•°å‘½åã«ã¤ã„ã¦ getXXX ã¨ createXXX ã®é•ã„</title><link>https://issei1213.github.io/posts/which_use_getxxx_or_createxxx/</link><pubDate>Sun, 14 May 2023 23:45:27 +0900</pubDate><guid>https://issei1213.github.io/posts/which_use_getxxx_or_createxxx/</guid><description>èƒŒæ™¯ ç¾åœ¨ã®å‚ç”»ã—ã¦ã„ã‚‹æ¡ˆä»¶ã§ã€Œé€±1ã‚†ã‚‹ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã€ã¨ã„ã†åå‰ã§ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã—ã¦ã„ã‚‹æ–¹ãŒã„ãŸã®ã§ã€è‡ªåˆ†ã‚‚çœŸä¼¼ã—ã¦ã¿ã‚ˆã†ã¨æ€ã†ã€‚
ä»Šå›ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã¦ãµã¨æ°—ã«ãªã£ãŸã“ã¨ãŒã‚ã£ãŸã®ã§ã€ç°¡å˜ã«ã¾ã¨ã‚ã¦ã„ãã€‚
æ¦‚è¦ æˆ»ã‚Šåœ°ãŒã‚ã‚‹é–¢æ•°ã‚’å‘½åã™ã‚‹ã¨ãã«ã€createXXXã¨getXXXã®ã©ã¡ã‚‰ã‚’ä½¿ã†ã‹è¿·ã£ãŸã®ã§ã€ã¾ã¨ã‚ã¦ã„ãã€‚
æœ¬é¡Œ ä»¥ä¸‹ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¼‰ã™ã‚‹ã€‚ åå‰ã®ãƒ•ãƒ«ãƒãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹é–¢æ•°ã§ã‚ã‚‹ã€‚
createFullNameã¨getFullNameã®ã©ã¡ã‚‰ãŒé©åˆ‡ã‹ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
// 1. createXXX const createFullName = (firstName: string, lastName: string): string =&amp;gt; { return `${firstName}${lastName}` } // 2. getXXX const getFullName = (firstName: string, lastName: string): string =&amp;gt; { return `${firstName}${lastName}` } ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ã€getXXXã¯é€šå¸¸ã€æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ã‚„ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã™ã‚‹ã¨ãã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã™ã‚‹ã“ã¨ã€‚
createXXXã¯æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹ã¨ãã«ä½¿ç”¨ã™ã‚‹ã€‚
ãªã®ã§ã€ä»Šå›ã®å ´åˆã¯ã€æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ã‚„ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã™ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€createXXXã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒé©åˆ‡ã ã¨åˆ¤æ–­ã€‚
getXXXã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã¯ä»¥ä¸‹
ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹å ´åˆ const getUserInfo = (userId: string) =&amp;gt; { // ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ }; é…åˆ—ã‹ã‚‰ç‰¹å®šã®è¦ç´ ã‚’å–å¾—ã™ã‚‹å ´åˆ const getElementAtIndex = (array: string[], index: number) =&amp;gt; { return array[index]; }; ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£å€¤ã‚’å–å¾—ã™ã‚‹é–¢æ•° const getPropertyValue = (object: Object, propertyName: string) =&amp;gt; { return object[propertyName]; }; ã¾ã¨ã‚ ä»Šå›ã¯ã€é–¢æ•°ã®å‘½åã«ã¤ã„ã¦createXXXã¨getXXXã®ã©ã¡ã‚‰ã‚’ä½¿ã†ã‹è¿·ã£ãŸã®ã§ã€ã¾ã¨ã‚ã¦ã¿ãŸã€‚ getXXXã¯é€šå¸¸ã€æ—¢å­˜ã®ãƒ‡ãƒ¼ã‚¿ã‚„ãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã™ã‚‹ã¨ãã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã™ã‚‹ã“ã¨ã€‚</description></item><item><title>Component Typesã¨Event Handlers</title><link>https://issei1213.github.io/posts/solidjs_types/</link><pubDate>Fri, 12 Aug 2022 21:08:23 +0900</pubDate><guid>https://issei1213.github.io/posts/solidjs_types/</guid><description>èƒŒæ™¯ SolidJSã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹å®šç¾©ã«ã¤ã„ã¦æ‚©ã‚“ã§ã„ãŸãŒã€å…¬å¼ã§è§£èª¬ãŒä¹—ã£ã¦ã„ãŸã®ã§ã€
å€‹äººçš„ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã«ã™ã‚‹ã€‚
æ¦‚è¦ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹å®šç¾©ã®æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
å…¬å¼ã§ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹ã‚’Component Typesã€ã‚¨ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹ã‚’Event Handlersã¨ã—ã¦è¨˜è¼‰ã—ã¦ã„ã‚‹ã®ã§ã€ åŒä¸€ã®å˜èªã‚’ä½¿ç”¨ã—ã¦ã„ãã€‚
æœ¬é¡Œ Component Types Component import type { JSX, Component } from &amp;#39;solid-js&amp;#39;; type Component&amp;lt;P = {}&amp;gt; = (props: P) =&amp;gt; JSX.Element; åŸºæœ¬çš„ã«ã¯Reactã®FCã¨åŒã˜ã‚ˆã†ãªä½¿ã„å‹ãŒã§ãã€propsã®å‹ã‚’ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
æˆ»ã‚Šå€¤ã¯JSX.Elementã«ãªã‚‹ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€€â€»å…¬å¼ã®ã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§
import { render } from &amp;#34;solid-js/web&amp;#34;; import { createSignal, Component } from &amp;#34;solid-js&amp;#34;; const Counter: Component = () =&amp;gt; { const [count, setCount] = createSignal(0); return ( &amp;lt;button onClick={() =&amp;gt; setCount((c) =&amp;gt; c+1)}&amp;gt; {count()} &amp;lt;/button&amp;gt; ); }; const InitCounter: Component&amp;lt;{initial: number}&amp;gt; = (props) =&amp;gt; { const [count, setCount] = createSignal(props.</description></item><item><title>TypeScript Tip #20</title><link>https://issei1213.github.io/posts/typescript_tip-20/</link><pubDate>Wed, 20 Apr 2022 23:30:11 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-20/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚
TypeScript Tip #20
æ¦‚è¦ ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚
export type Obj = { a: &amp;#39;a&amp;#39;, a2: &amp;#39;a2&amp;#39;, a3: &amp;#39;a3&amp;#39;, b: &amp;#39;b&amp;#39;, b1: &amp;#39;b1&amp;#39;, b2: &amp;#39;b2&amp;#39; } // ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„ type NewUnion = &amp;#34;a&amp;#34; | &amp;#34;a2&amp;#34; | &amp;#34;a3&amp;#34; æœ¬é¡Œ ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚
type ValuesOfKeysStartingWithA&amp;lt;Obj&amp;gt; = { [K in Extract&amp;lt;keyof Obj, `a${string}`&amp;gt;]: Obj[K]; }[Extract&amp;lt;keyof Obj, `a${string}`&amp;gt;] type NewUnion = ValuesOfKeysStartingWithA&amp;lt;Obj&amp;gt; // type NewUnion = &amp;#34;a&amp;#34; | &amp;#34;a2&amp;#34; | &amp;#34;a3&amp;#34; ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯Extract&amp;lt;keyof Obj,`a${string}`&amp;gt;ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚ ã¾ãšã€a${string}ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—aã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚ type TestType = `a${string}` // Success const test1: TestType = &amp;#39;a&amp;#39; const test2: TestType = &amp;#39;a1&amp;#39; // Error const test3: TestType = &amp;#39;1&amp;#39; // Type &amp;#39;&amp;#34;1&amp;#34;&amp;#39; is not assignable to type &amp;#39;`a${string}`&amp;#39;.</description></item><item><title>TypeScript Tip #8</title><link>https://issei1213.github.io/posts/typescript_tip-8/</link><pubDate>Fri, 15 Apr 2022 00:14:16 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-8/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
TypeScript Tip #8
æ¦‚è¦ Reactã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€å‹•çš„ã§æŸ”è»Ÿãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
æœ¬é¡Œ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯Reactã®ã‚µãƒ³ãƒ—ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚‹ã€‚
Tableã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®propsã«å­˜åœ¨ã™ã‚‹itemsã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã«ãªã£ã¦ã„ã‚‹ã€‚
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£idã®ã¿ã‚’ä¿æŒã—ã¦ã„ã‚‹ã€‚
import React from &amp;#39;react&amp;#39; interface TableProps { items: { id: string }[] renderItem: (item: { id: string }) =&amp;gt; React.ReactNode } export const Table = (props: TableProps) =&amp;gt; { return null } const Component = () =&amp;gt; { return ( &amp;lt;Table items={[ { id: &amp;#39;1&amp;#39;, } ]} renderItem={(item) =&amp;gt; &amp;lt;div&amp;gt;{ item.id }&amp;lt;/div&amp;gt;} &amp;gt;&amp;lt;/Table&amp;gt; ) } ä¸Šè¨˜ã®å ´åˆã€propsitemsã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®idä»¥å¤–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ãŸã„å ´åˆã€TablePropsã«ã‚‚è¿½åŠ ã‚’ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ ä»¥ä¸‹ã¯ãã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰</description></item><item><title>TypeScript Tip #7</title><link>https://issei1213.github.io/posts/typescript_tip-7/</link><pubDate>Wed, 13 Apr 2022 23:11:35 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-7/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®è¨˜äº‹ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
TypeScript Tip #7
æ¦‚è¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸­èº«ã‚’é †ç•ªã«å‡¦ç†ã—ã¦ã„ãæ™‚ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚
const myObject = { a: 1, b: 2, c: 3 } Object.keys(myObject).forEach((key) =&amp;gt; { console.log(myObject[key]) // Element implicitly has an &amp;#39;any&amp;#39; type because expression of type &amp;#39;string&amp;#39; can&amp;#39;t be used to index type &amp;#39;{ a: number; b: number; c: number; }&amp;#39;. // No index signature with a parameter of type &amp;#39;string&amp;#39; was found on type &amp;#39;{ a: number; b: number; c: number; }&amp;#39;.</description></item><item><title>TypeScript Tip #5</title><link>https://issei1213.github.io/posts/typescript_tip-5/</link><pubDate>Sun, 10 Apr 2022 12:43:14 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-5/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®å‹•ç”»ã‚’ã¾ã¨ã‚ã¦ã„ã
TypeScript Tip #5
æ¦‚è¦ å‹æ¨è«–ã•ã‚ŒãŸå‹ã«å¯¾ã—ã¦extendsã‚’ä½¿ç”¨ã™ã‚‹ã¾ã¨ã‚ã¦ã„ãã€‚
æœ¬é¡Œ å®Ÿéš›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã€‚ getDeepValueé–¢æ•°ã®å¼•æ•°ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ã€ãã“ã‹ã‚‰å‹æ¨è«–ã‚’ã•ã›ã¦ã„ã‚‹ã€‚
ç¬¬2å¼•æ•°ã€ç¬¬3å¼•æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã‚’æŒ‡å®šã—ã¦ã€æœ€çµ‚çš„ãªãƒãƒªãƒ¥ãƒ¼ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ãªé–¢æ•°ã‚’ä½œæˆã™ã‚‹ã€‚
export const getDeepValue = &amp;lt; Obj, FirstKey extends keyof Obj, SecondKey extends keyof Obj[FirstKey] &amp;gt;( obj: Obj, firstKey: FirstKey, secondKey: SecondKey ): Obj[FirstKey][SecondKey] =&amp;gt; { return obj[firstKey][secondKey] } const obj = { foo: { a: true, b: 2 }, bar: { c: &amp;#39;cool&amp;#39;, d: 2 } } console.log(getDeepValue(obj, &amp;#39;bar&amp;#39;, &amp;#39;d&amp;#39;)) å¼•æ•°ã®ç¬¬2å¼•æ•°FirstKeyã¯å‹æ¨è«–ã•ã‚ŒãŸObjã«åˆ¶ç´„ã‚’è¨­ã‘ã¦ã„ã‚‹ã€‚ FirstKey extends keyof { foo: { a: boolean; b: number; }; bar: { c: string; d: number; }; } ğŸ”½ FirstKey extends &amp;#34;foo&amp;#34; | &amp;#34;bar&amp;#34; ã‚ˆã£ã¦ã€FirstKeyã¯fooã‹barã®ã©ã¡ã‚‰ã‹ã«ãªã‚‹ã€‚</description></item><item><title>TypeScript Tip #3</title><link>https://issei1213.github.io/posts/typescript_tip-3/</link><pubDate>Sat, 09 Apr 2022 01:13:25 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-3/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattoã•ã‚“ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãã€‚
TypeScript Tip #3
æ¦‚è¦ ä»Šå›ã¯TypeScriptã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ã¾ã¨ã‚ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªts-toolbeltã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã€‚
æ³¨æ„ç‚¹ã¨ã—ã¦ã¯ã€TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ4.1ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ æ•°å¤šãã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ä»Šå›ã¯Mattã•ã‚“ã®è§£èª¬ã«çµã£ã¦ã¾ã¨ã‚ã¦ã„ãã€‚
ts-toolbelt
æœ¬é¡Œ ä½¿ã„æ–¹ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸­ã‹ã‚‰ä½¿ç”¨ã—ãŸã„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’importã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚
import { String, Union } from &amp;#39;ts-toolbelt&amp;#39;; ä»Šå›ã¯URLã®æ“ä½œã‚’ã™ã‚‹æ™‚ã«ä¾¿åˆ©ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ import { String, Union } from &amp;#39;ts-toolbelt&amp;#39;; const query = &amp;#39;/home?a=foo&amp;amp;b=wow&amp;#39; type Query = typeof query // type Query = &amp;#34;/home?a=foo&amp;amp;b=wow&amp;#34; type SecondQueryPart = String.Split&amp;lt;Query, &amp;#39;?&amp;#39;&amp;gt;[1] // type SecondQueryPart = &amp;#34;a=foo&amp;amp;b=wow&amp;#34; type QueryElements = String.Split&amp;lt;SecondQueryPart, &amp;#39;&amp;amp;&amp;#39;&amp;gt; // type QueryElements = [&amp;#34;a=foo&amp;#34;, &amp;#34;b=wow&amp;#34;] type QueryParams = { [ QueryElement in QueryElements[number] ]: { [ key in String.</description></item><item><title>TypeScript Tip #2</title><link>https://issei1213.github.io/posts/typescript_tip-2/</link><pubDate>Fri, 08 Apr 2022 20:26:20 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-2/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattoã•ã‚“ã®TypeScriptã®å‹•ç”»ã‚’ã¾ã¨ã‚ã¦ã„ã
æ¦‚è¦ ä¸‹è¨˜ã®æ§˜ãªEntityã®å‹ã‚’å®šç¾©ã™ã‚‹ã€‚
type Entity = | { type: &amp;#39;user&amp;#39; } | { type: &amp;#39;post&amp;#39; } | { type: &amp;#39;comment&amp;#39; } ä¸Šè¨˜ã®å‹ã®å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«idã‚’è¿½åŠ ã—ãŸã„ã€‚ãã®æ™‚ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚
typeã«å¿œã˜ãŸidã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã„ã‚‹ã€‚
type EntityWithId = | { type: &amp;#39;user&amp;#39; userId: string } | { type: &amp;#39;post&amp;#39; postId: string } | { type: &amp;#39;comment&amp;#39; commentId: string } const result1: EntityWithId = { type: &amp;#39;post&amp;#39;, postId: &amp;#39;123&amp;#39; } const result2: EntityWithId = { type: &amp;#39;user&amp;#39;, userId: &amp;#39;123&amp;#39; } ä»Šå›ã¯EntityWithIdã®éƒ¨åˆ†ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚·ã‚°ãƒãƒãƒ£ã‚’åˆ©ç”¨ã—ã¦ä½œæˆã—ã¦ã„ãã€‚
æœ¬é¡Œ å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚ç´°ã‹ãã¿ã¦ã„ãã€‚</description></item><item><title>TypeScript Tip #1</title><link>https://issei1213.github.io/posts/typescript_tip-1/</link><pubDate>Thu, 07 Apr 2022 12:43:39 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-1/</guid><description>èƒŒæ™¯ å‰å›ã®mattã•ã‚“ã®TypeScript Tip #15ãŒå‹‰å¼·ã«ãªã£ãŸã®ã§ã€æœ€åˆã‹ã‚‰#1ã‹ã‚‰ã¾ã¨ã‚ã¦ã„ã
æ¦‚è¦ export const fruitCounts = { apple: 1, pear: 4, banana: 26 } ä¸Šè¨˜ã®æ§˜ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸæ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§å®šç¾©ã™ã‚‹ã¨ä»¥ä¸‹ã«ãªã‚‹ã€‚
type SingleFruitCount = | { apple: number } | { banana: number } | { pear: number } const singleFruitCount: SingleFruitCount = { apple: 10, } SingleFruitCountã®å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆã™ã‚Œã°ã€å‹å®šç¾©ã§ãã‚‹ãŒå®šæ•°fruitCountsã‚’å‹æ¨è«–ã•ã›ã¦å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚
æœ¬é¡Œ æœ€çµ‚çš„ãªã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚å…·ä½“çš„ã«è§£èª¬ã—ã¦ã„ãã€‚
type FruitCounts = typeof fruitCounts type NewSingleFruitCount = { [ K in keyof FruitCounts ]: { [ K2 in K ]: number } }[keyof FruitCounts] // type NewSingleFruitCount = { // apple: number; // } | { // pear: number; // } | { // banana: number; // } typeof fruitCountsã¯å‹æ¨è«–ãŒåŠ¹ã„ã¦ä»¥ä¸‹ã®å‹ãŒä½œæˆã•ã‚Œã‚‹ã€‚ type FruitCounts = { apple: number; pear: number; banana: number; } [ K in keyof FruitCounts ]ã®keyof FruitCountsã¯å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã®ã¿ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</description></item><item><title>ã‚Šã‚ã‚¯ãƒˆã®TypeScriptã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</title><link>https://issei1213.github.io/posts/typescript_react-sample-code-reading/</link><pubDate>Sat, 02 Apr 2022 13:39:20 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_react-sample-code-reading/</guid><description>èƒŒæ™¯ TypeScriptã®æ•™æã§ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã®ã§ã€ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦ã„ãã€‚
æ¦‚è¦ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãã€‚
éåŒæœŸãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°ã‚’ãƒ©ãƒƒãƒ—ã—ã¦ã€ãã“ã§èµ·ãã‚‹ä¾‹å¤–ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¤ã¤æ­£å¸¸ç³»ã¨ç•°å¸¸ç³»ã«æŒ¯ã‚Šåˆ†ã‘ã‚‹é–¢æ•°ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã€‚
type Result&amp;lt;T, E extends Error&amp;gt; = Ok&amp;lt;T, E&amp;gt; | Err&amp;lt;T, E&amp;gt; export class Ok&amp;lt;T, E extends Error&amp;gt; { constructor(readonly val: T) {} isOk = (): this is Ok&amp;lt;T, E&amp;gt; =&amp;gt; true isErr = (): this is Err&amp;lt;T, E&amp;gt; =&amp;gt; false } export class Err&amp;lt;T, E extends Error&amp;gt; { constructor(readonly err: E) {} isOk = (): this is Ok&amp;lt;T, E&amp;gt; =&amp;gt; false isErr = (): this is Err&amp;lt;T, E&amp;gt; =&amp;gt; true } export const withResult = &amp;lt;T, A extends any[], E extends Error&amp;gt;(fn: (.</description></item><item><title>TypeScript Tip #15</title><link>https://issei1213.github.io/posts/typescript_tip-15/</link><pubDate>Fri, 01 Apr 2022 23:23:48 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-15/</guid><description>èƒŒæ™¯ Twitterã‚’çœºã‚ã¦ã„ã‚‹ã¨æ±ç”¨æ€§ãŒé«˜ãã†ãªé–¢æ•°ã‚’ä½œæˆã§ãã‚‹TypeScriptã®ãƒ„ã‚¤ãƒ¼ãƒˆãŒã‚ã£ãŸã®ã§ã€æ•´ç†ã™ã‚‹ãŸã‚ã«ã¾ã¨ã‚ã‚‹ã€‚
TypeScript Tip #15 æ¦‚è¦ é–¢æ•°ã®å¼•æ•°ã®ã‚¿ã‚¤ãƒ—ã‚’ã¿ã¦ã€ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦payloadãŒå¿…è¦ã‹å¿…è¦ãŒãªã„ã‹ã‚’TypeScriptã§åˆ¤æ–­ã™ã‚‹ã€‚
// ç¬¬ä¸€å¼•æ•°ãŒSIGN_OUTã®å ´åˆã¯ã€payloadã¯ãªã— sendEvent(&amp;#39;SIGN_OUT&amp;#39;) // ç¬¬ä¸€å¼•æ•°ãŒLOG_INã®å ´åˆã¯ã€payloadã¯å¿…é ˆ sendEvent(&amp;#34;LOG_IN&amp;#34;, { userId: &amp;#39;123&amp;#39; }) æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³
sendEvent(&amp;#39;SIGN_OUT&amp;#39;) sendEvent(&amp;#34;LOG_IN&amp;#34;, { userId: &amp;#39;123&amp;#39; }) å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³(ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼)
sendEvent(&amp;#39;SIGN_OUT&amp;#39;, {}) sendEvent(&amp;#39;LOG_IN&amp;#39;, { userId: 122 }) sendEvent(&amp;#39;LOG_IN&amp;#39;, {}) sendEvent(&amp;#39;LOG_IN&amp;#39;) æœ¬é¡Œ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§å®Ÿç¾å¯èƒ½
type AuthEvent = | { type: &amp;#39;LOG_IN&amp;#39; payload: { userId: string } } | { type: &amp;#39;SIGN_OUT&amp;#39; } const sendEvent = &amp;lt;Type extends AuthEvent[&amp;#39;type&amp;#39;]&amp;gt;( ...args: Extract&amp;lt;AuthEvent, { type: Type }&amp;gt; extends { payload: infer TPayload } ?</description></item><item><title>refã¨reactive</title><link>https://issei1213.github.io/posts/vue_ref_vs_reactive/</link><pubDate>Fri, 25 Mar 2022 00:00:00 +0900</pubDate><guid>https://issei1213.github.io/posts/vue_ref_vs_reactive/</guid><description>èƒŒæ™¯ refã¨reactiveã®ä½¿ã„åˆ†ã‘ãŒãƒ‘ãƒƒã¨ã§ã¦ã“ãªã‹ã£ãŸã“ã¨ãŒã‚ã£ãŸã®ã§ã¾ã¨ã‚ã¦ã„ãã€‚
æ¦‚è¦ ã©ã®çŠ¶æ³ã§ä½¿ã„åˆ†ã‘ã‚Œã°ã„ã„ã®ã‹ refã¨reactiveã®é•ã„ æœ¬é¡Œ 1.ã©ã®çŠ¶æ³ã§ä½¿ã„åˆ†ã‘ã‚Œã°ã„ã„ã®ã‹ refã¯ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–å‹ã«å¯¾ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚ reactiveã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã«å¯¾ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚
2.refã¨reactiveã®é•ã„ ref const boolean = ref(false) // export function ref&amp;lt;boolean&amp;gt;(value: boolean): Ref&amp;lt;boolean&amp;gt; TypeScriptã®å ´åˆã¯ã€å¼•æ•°(åˆæœŸå€¤)ã‚’å‹æ¨è«–ã—ã¦ãã‚Œã‚‹ã€‚ æ˜ç¤ºçš„ã«ã—ãŸã„å‹æ³¨é‡ˆã—ãŸã„å ´åˆã¯ã€ref&amp;lt;boolean | null&amp;gt;(false)ã¨ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚ åŸºæœ¬çš„ã«ãªã‚“ã§ã‚‚(ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€é…åˆ—ã€ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–)refã§ä½¿ç”¨ãŒã§ãã‚‹ã€‚ å¼•æ•°ã®å€¤ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã¯ã€Vueå†…éƒ¨ã§reactiveã«æ›´æ–°ã—ã¦ã„ã‚‹ã€‚æ›´æ–°ã—ã¦ã„ã‚‹è² è·ã‚’ä¸ãˆã¦ã—ã¾ã†ãŸã‚ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã¯ã€reactiveã‚’ä½¿ç”¨ã—ãŸã»ã†ãŒã„ã„ã¨è¨€ã‚ã‚Œã¦ã„ã‚‹ã€‚ ref.valueã§ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ Ex)boolean.value = true reactive const user = reactive({ firstName: &amp;#39;å¤ªéƒ&amp;#39;, lastName: &amp;#39;å±±ç”°&amp;#39;, height: 160, weight: 50 }) // const user: {firstName: string, lastName: string, height: number, weight: number} TypeScriptã®å ´åˆã¯ã€å¼•æ•°(åˆæœŸå€¤)ã‚’å‹æ¨è«–ã—ã¦ãã‚Œã‚‹ã€‚ å‹æ³¨é‡ˆã‚’ã¤ã‘ãŸã„å ´åˆã¯ã€ã‚¸ã‚§ãƒã‚¯ãƒªã‚¹ã‚’ä½¿ç”¨ã§ãã‚‹ const user = reactive&amp;lt;{ firstName?: string lastName?</description></item><item><title>watchã¨watchEffect</title><link>https://issei1213.github.io/posts/vue_watch-and-watcheffect/</link><pubDate>Fri, 18 Mar 2022 10:36:36 +0900</pubDate><guid>https://issei1213.github.io/posts/vue_watch-and-watcheffect/</guid><description>èƒŒæ™¯ Vue.jsã‚’ä½¿ç”¨ã™ã‚‹éš›ã«watchã‚’ä½¿ã†é »åº¦ã¯ãã“ã¾ã§å¤šããªãã€ä½¿ã†åº¦ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã™ã‚‹ã®ã§ã€è¨˜äº‹ã«ã¾ã¨ã‚ã¦ãŠãã€‚
æ¦‚è¦ Vue3ã®watchã¨watchEffectã®ä»•æ§˜ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚ã¾ãŸã€ãã‚Œãã‚Œã®é•ã„ã‚‚ã¾ã¨ã‚ã‚‹ã€‚
æœ¬é¡Œ watch èª¬æ˜ æŒ‡å®šã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ç›£è¦–ã—ã¦ã€å¤‰åŒ–ãŒã‚ã‚Œã°ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ãŒå®Ÿè¡Œã™ã‚‹ã€‚
ä½¿ã„æ–¹ å˜ä¸€ã®ãƒ‡ãƒ¼ã‚¿ç›£è¦–ã¨è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ç›£è¦–ã®2ç¨®é¡ã®ä½¿ã„æ–¹ãŒå­˜åœ¨ã™ã‚‹ã€‚
1. å˜ä¸€ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç›£è¦–ã™ã‚‹å ´åˆ const count = ref(0) // ç¬¬ä¸€å¼•æ•°ã«ç›£è¦–ã—ãŸã„ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜è¼‰ã™ã‚‹ watch(count, (newCount, prevCount) =&amp;gt; { /* ... */ }) const state = reactive({ count: 0 }) // ç¬¬ä¸€å¼•æ•°ã«ç›£è¦–ã—ãŸã„ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã§è¨˜è¼‰ã™ã‚‹ watch(() =&amp;gt; state.count, (newCount, prevCount) =&amp;gt; { /* ... */ } ) 2. è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç›£è¦–ã™ã‚‹å ´åˆ é…åˆ—ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç›£è¦–ã§ãã‚‹ è¤‡æ•°ã®ç›£è¦–ãƒ‡ãƒ¼ã‚¿ãŒåŒæ™‚ã«å¤‰æ›´ã™ã‚‹æ™‚ã«ã¯ã€ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã¯ä¸€åº¦ã—ã¦å‹•ã‹ãªã„ãŸã‚æ³¨æ„ const firstName = ref(&amp;#39;&amp;#39;) const lastName = ref(&amp;#39;&amp;#39;) // ç¬¬ä¸€å¼•æ•°ã‚’é…åˆ—ã«ã—ã¦ã„ã‚‹ watch([firstName, lastName], (newValues, prevValues) =&amp;gt; { console.</description></item></channel></rss>