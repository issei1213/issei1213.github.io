<!doctype html><html lang=ja-jp>
<head><title>
TypeScript Tip #20 |
TechBlog</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name=description content="èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚
TypeScript Tip #20
 æ¦‚è¦ ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚
export type Obj = { a: 'a', a2: 'a2', a3: 'a3', b: 'b', b1: 'b1', b2: 'b2' } // ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„ type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  æœ¬é¡Œ ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚
type ValuesOfKeysStartingWithA<Obj> = { [K in Extract<keyof Obj, `a${string}`>]: Obj[K]; }[Extract<keyof Obj, `a${string}`>] type NewUnion = ValuesOfKeysStartingWithA<Obj> // type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯Extract<keyof Obj,`a${string}`>ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚ ã¾ãšã€a${string}ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—aã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚  type TestType = `a${string}` // Success const test1: TestType = 'a' const test2: TestType = 'a1' // Error const test3: TestType = '1' // Type '&#34;1&#34;' is not assignable to type '`a${string}`'.
    ">
<meta property="og:title" content="TypeScript Tip #20">
<meta property="og:description" content="èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚
TypeScript Tip #20
 æ¦‚è¦ ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚
export type Obj = { a: 'a', a2: 'a2', a3: 'a3', b: 'b', b1: 'b1', b2: 'b2' } // ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„ type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  æœ¬é¡Œ ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚
type ValuesOfKeysStartingWithA<Obj> = { [K in Extract<keyof Obj, `a${string}`>]: Obj[K]; }[Extract<keyof Obj, `a${string}`>] type NewUnion = ValuesOfKeysStartingWithA<Obj> // type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯Extract<keyof Obj,`a${string}`>ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚ ã¾ãšã€a${string}ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—aã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚  type TestType = `a${string}` // Success const test1: TestType = 'a' const test2: TestType = 'a1' // Error const test3: TestType = '1' // Type '&#34;1&#34;' is not assignable to type '`a${string}`'.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://issei1213.github.io/posts/typescript_tip-20/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-04-20T23:30:11+09:00">
<meta property="article:modified_time" content="2022-04-20T23:30:11+09:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="TypeScript Tip #20">
<meta name=twitter:description content="èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚
TypeScript Tip #20
 æ¦‚è¦ ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚
export type Obj = { a: 'a', a2: 'a2', a3: 'a3', b: 'b', b1: 'b1', b2: 'b2' } // ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„ type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  æœ¬é¡Œ ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚
type ValuesOfKeysStartingWithA<Obj> = { [K in Extract<keyof Obj, `a${string}`>]: Obj[K]; }[Extract<keyof Obj, `a${string}`>] type NewUnion = ValuesOfKeysStartingWithA<Obj> // type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯Extract<keyof Obj,`a${string}`>ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚ ã¾ãšã€a${string}ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—aã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚  type TestType = `a${string}` // Success const test1: TestType = 'a' const test2: TestType = 'a1' // Error const test3: TestType = '1' // Type '&#34;1&#34;' is not assignable to type '`a${string}`'.">
<meta itemprop=name content="TypeScript Tip #20">
<meta itemprop=description content="èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚
TypeScript Tip #20
 æ¦‚è¦ ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚
export type Obj = { a: 'a', a2: 'a2', a3: 'a3', b: 'b', b1: 'b1', b2: 'b2' } // ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„ type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  æœ¬é¡Œ ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚
type ValuesOfKeysStartingWithA<Obj> = { [K in Extract<keyof Obj, `a${string}`>]: Obj[K]; }[Extract<keyof Obj, `a${string}`>] type NewUnion = ValuesOfKeysStartingWithA<Obj> // type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;  ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯Extract<keyof Obj,`a${string}`>ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚ ã¾ãšã€a${string}ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—aã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚  type TestType = `a${string}` // Success const test1: TestType = 'a' const test2: TestType = 'a1' // Error const test3: TestType = '1' // Type '&#34;1&#34;' is not assignable to type '`a${string}`'."><meta itemprop=datePublished content="2022-04-20T23:30:11+09:00">
<meta itemprop=dateModified content="2022-04-20T23:30:11+09:00">
<meta itemprop=wordCount content="312">
<meta itemprop=keywords content="TypeScript,">
<link rel=canonical href=https://issei1213.github.io/posts/typescript_tip-20/>
<link rel=icon type=image/png href=https://issei1213.github.io//img/favicon.png>
<link rel=stylesheet href=/css/font-awesome.min.css>
<link rel=stylesheet href=/css/bulma.min.css>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-3WPQ6FJXBQ','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<script src=/js/ramium.js></script>
<link rel=stylesheet href=/css/ramium.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3WPQ6FJXBQ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config',"G-3WPQ6FJXBQ")</script>
</head>
<body><nav class="navbar is-dark" role=navigation aria-label="main navigation">
<div class=navbar-brand>
<a class=navbar-item href=/>
<strong>TechBlog </strong>
</a>
<a role=button class="navbar-burger burger" aria-label=menu aria-expanded=false data-target=navbarBasicExample>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
</a>
</div>
<div id=navbarBasicExample class=navbar-menu>
<div class=navbar-start>
<a class=navbar-item href=/>ãƒ›ãƒ¼ãƒ </a>
<div class="navbar-item has-dropdown is-hoverable">
<a class=navbar-link>ãƒ–ãƒ­ã‚°</a>
<div class=navbar-dropdown>
<a class=navbar-item href=/tags/>ã‚¿ã‚°</a>
<a class=navbar-item href=/posts/>è¨˜äº‹</a>
</div>
</div>
</div>
<div class=navbar-end>
<a class="navbar-item navgithub" href=https://github.com/issei1213 target=_blank>
<i class="fa fa-github fa-2x"></i>
</a>
<a class="navbar-item navgithub" href=https://twitter.com/abIOELEsEfu6Os0 target=_blank>
<i class="fa brands fa-twitter fa-2x"></i>
</a>
</div>
</div>
</nav><div class="columns is-centered">
<div id=page-body class="column is-7">
<div class="content blog">
<h1>TypeScript Tip #20</h1>
<div id=infobar class="level is-mobile">
<div class=level-left>
<div class=level-item>
<p class="subtitle info date">Apr 20, 2022
</p>
</div>
<div class=level-item>
<p class="subtitle info">
8 mins read
</p>
</div>
</div>
<div class="level-right is-hidden-touch">
<div class=tags>
<a class="tag is-dark is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
</div>
<div class="tags is-hidden-desktop">
<a class="tag is-dark is-rounded" href=/tags/typescript>Type script</a>
</div>
<div class=blog-text>
<h2 id=èƒŒæ™¯>èƒŒæ™¯</h2>
<p>ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚<br>
<a href=https://twitter.com/mpocock1/status/1516755042816172042 target=_blank>TypeScript Tip #20</a></p>
<hr>
<h2 id=æ¦‚è¦>æ¦‚è¦</h2>
<p>ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Obj</span> <span style=color:#f92672>=</span> {
    <span style=color:#a6e22e>a</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a&#39;</span>,
    <span style=color:#a6e22e>a2</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a2&#39;</span>,
    <span style=color:#a6e22e>a3</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a3&#39;</span>,
    <span style=color:#a6e22e>b</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;b&#39;</span>,
    <span style=color:#a6e22e>b1</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;b1&#39;</span>,
    <span style=color:#a6e22e>b2</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;b2&#39;</span>
}

<span style=color:#75715e>// ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>NewUnion</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span>
</code></pre></div><hr>
<h2 id=æœ¬é¡Œ>æœ¬é¡Œ</h2>
<p>ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt; <span style=color:#f92672>=</span> {
    [<span style=color:#a6e22e>K</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>Extract</span>&lt;<span style=color:#f92672>keyof</span> <span style=color:#a6e22e>Obj</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#960050;background-color:#1e0010>`</span><span style=color:#a6e22e>a</span><span style=color:#960050;background-color:#1e0010>$</span>{<span style=color:#a6e22e>string</span>}<span style=color:#960050;background-color:#1e0010>`</span>&gt;]<span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#a6e22e>K</span>];
}[<span style=color:#a6e22e>Extract</span>&lt;<span style=color:#f92672>keyof</span> <span style=color:#a6e22e>Obj</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#960050;background-color:#1e0010>`</span><span style=color:#a6e22e>a</span><span style=color:#960050;background-color:#1e0010>$</span>{<span style=color:#a6e22e>string</span>}<span style=color:#960050;background-color:#1e0010>`</span>&gt;]

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>NewUnion</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt;
<span style=color:#75715e>// type NewUnion = &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34;
</span></code></pre></div><ol>
<li>ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯<code>Extract&lt;keyof Obj,`a${string}`></code>ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚
ã¾ãšã€<code>a${string}</code>ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—<code>a</code>ã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚</li>
</ol>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>TestType</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>`a</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>string</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>

<span style=color:#75715e>// Success
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>test1</span>: <span style=color:#66d9ef>TestType</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;a&#39;</span>
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>test2</span>: <span style=color:#66d9ef>TestType</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;a1&#39;</span>

<span style=color:#75715e>// Error
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>test3</span>: <span style=color:#66d9ef>TestType</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;1&#39;</span>  <span style=color:#75715e>// Type &#39;&#34;1&#34;&#39; is not assignable to type &#39;`a${string}`&#39;.
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>test4</span>: <span style=color:#66d9ef>TestType</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>    <span style=color:#75715e>// Type &#39;1&#39; is not assignable to type &#39;`a${string}`&#39;.
</span></code></pre></div><p>æ¬¡ã«<code>keyof Obj</code>ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã®ã‚­ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã®ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’ä½œæˆã§ãã‚‹</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Keys</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>keyof</span> <span style=color:#a6e22e>Obj</span>
<span style=color:#75715e>// &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34; | &#34;b&#34; | &#34;b1&#34; | &#34;b2&#34;
</span></code></pre></div><p>ãã“ã§<code>Extract&lt;keyof Obj,`a${string}`></code>ã«çµ„ã¿åˆã‚ã›ã‚‹ã¨ã€ä»¥ä¸‹ã«ãªã‚‹ã€‚ <br>
ã¾ãŸã€<code>Extract&lt;T,U></code>ã¯ã€<code>T</code>å‹ã‹ã‚‰<code>U</code>å‹ã«ä»£å…¥å¯èƒ½ãªå‹ã ã‘ã‚’æŠ½å‡ºã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã«ãªã‚‹ã€‚<br>
å‚è€ƒè¨˜äº‹ï¼š<a href=https://qiita.com/k-penguin-sato/items/e2791d7a57e96f6144e5#extracttu target=_blank>ã€TypeScriptã€‘Utility Typesã‚’ã¾ã¨ã‚ã¦ç†è§£ã™ã‚‹</a></p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#a6e22e>Extract</span>&lt;<span style=color:#f92672>keyof</span> <span style=color:#a6e22e>Obj</span><span style=color:#960050;background-color:#1e0010>,`</span><span style=color:#a6e22e>a</span><span style=color:#960050;background-color:#1e0010>$</span>{<span style=color:#a6e22e>string</span>}<span style=color:#960050;background-color:#1e0010>`</span>&gt;
    
<span style=color:#960050;background-color:#1e0010>ğŸ”½</span>

<span style=color:#a6e22e>Extract</span><span style=color:#f92672>&lt;</span><span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;b&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;b1&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;b2&#34;</span>, <span style=color:#e6db74>`a</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>string</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span><span style=color:#f92672>&gt;</span>
<span style=color:#75715e>// &#34;a&#34; | &#34;a2&#34; | &#34;a3&#34; | &#34;b&#34; | &#34;b1&#34; | &#34;b2&#34;ã‹ã‚‰a${string}ã«ä»£å…¥å¯èƒ½ãªå‹ã‚’æŠœãå‡ºã™
</span><span style=color:#75715e></span>
<span style=color:#960050;background-color:#1e0010>ğŸ”½</span>

<span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span>
</code></pre></div><p>ã‚ˆã£ã¦ã€<code>Extract&lt;keyof Obj,`a${string}`></code>ã¯<code>"a" | "a2" | "a3"</code>ã®å‹ã«ãªã‚‹ã€‚
2. Extractå‹ãŒã‚ã‹ã£ãŸã®ã§ã€å…ƒã®ã‚³ãƒ¼ãƒ‰ã«å½“ã¦ã¯ã‚ã¦ã¿ã‚‹</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt; <span style=color:#f92672>=</span> {
    [<span style=color:#a6e22e>K</span> <span style=color:#66d9ef>in</span> <span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#a6e22e>K</span>];
}[<span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span>]
</code></pre></div><p>ã¾ãšã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚·ã‚°ãƒãƒãƒ£ã ã‘ã‚’å–ã‚Šå‡ºã—ã¦ã¿ã‚‹ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt; <span style=color:#f92672>=</span> {
    [<span style=color:#a6e22e>K</span> <span style=color:#66d9ef>in</span> <span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#a6e22e>K</span>];
}

<span style=color:#960050;background-color:#1e0010>ğŸ”½</span>

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt; <span style=color:#f92672>=</span> {
    <span style=color:#e6db74>&#39;a&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#e6db74>&#39;a&#39;</span>],
    <span style=color:#e6db74>&#39;a2&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#e6db74>&#39;a2&#39;</span>],
    <span style=color:#e6db74>&#39;a3&#39;</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#e6db74>&#39;a3&#39;</span>],
}

<span style=color:#960050;background-color:#1e0010>ğŸ”½</span>

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt; <span style=color:#f92672>=</span> {
    <span style=color:#e6db74>&#39;a&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a&#39;</span>,
    <span style=color:#e6db74>&#39;a2&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a2&#39;</span>,
    <span style=color:#e6db74>&#39;a3&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a3&#39;</span>,
}
</code></pre></div><p>ä¸Šè¨˜ã«å±•é–‹ã—ãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚·ã‚°ãƒãƒãƒ£ã«ãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ—å‹ã‚’è¿½åŠ ã™ã‚‹ã€‚<br>
ãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ—å‹ãŒãƒ¦ãƒ‹ã‚ªãƒ³ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€å–ã‚Šå‡ºã—å‹ã‚‚ãƒ¦ãƒ‹ã‚ªãƒ³ã«ãªã‚‹ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt; <span style=color:#f92672>=</span> {
    <span style=color:#e6db74>&#39;a&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a&#39;</span>,
    <span style=color:#e6db74>&#39;a2&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a2&#39;</span>,
    <span style=color:#e6db74>&#39;a3&#39;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a3&#39;</span>,
}[<span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span>]

<span style=color:#960050;background-color:#1e0010>ğŸ”½</span>

<span style=color:#e6db74>&#34;a&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a2&#34;</span> <span style=color:#f92672>|</span> <span style=color:#e6db74>&#34;a3&#34;</span>
</code></pre></div><p>ã“ã‚Œã§ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ããŸã€‚<br>
3. ã‚³ãƒ¼ãƒ‰ã‚’ã‚ˆãã¿ã‚‹ã¨<code>Extract&lt;keyof Obj, `a${string}`></code>ãŒäºŒãƒ¶æ‰€å­˜åœ¨ã—ã¦ãŠã‚Šã€å°‘ã—å†—é•·ã§ã‚ã‚‹ã€‚<br>
ãã®ãŸã‚ã€ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§å®šç¾©ã—ã¦ã‚„ã‚‹æ›¸ãæ–¹ãŒä»¥ä¸‹ã«ãªã‚‹ã€‚</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#a6e22e>_ExtractedKeys</span> <span style=color:#a6e22e>extends</span> <span style=color:#a6e22e>keyof</span> <span style=color:#a6e22e>Obj </span><span style=color:#f92672>=</span> <span style=color:#a6e22e>Extract</span><span style=color:#960050;background-color:#1e0010>&lt;</span><span style=color:#a6e22e>keyof</span> <span style=color:#a6e22e>Obj</span><span style=color:#960050;background-color:#1e0010>,</span> <span style=color:#960050;background-color:#1e0010>`</span><span style=color:#a6e22e>a</span><span style=color:#960050;background-color:#1e0010>$</span>{<span style=color:#a6e22e>string</span>}<span style=color:#960050;background-color:#1e0010>`</span>&gt;<span style=color:#f92672>&gt;</span> <span style=color:#f92672>=</span> {
    [<span style=color:#a6e22e>K</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>_ExtractedKeys</span>]<span style=color:#f92672>:</span> <span style=color:#a6e22e>Obj</span>[<span style=color:#a6e22e>K</span>];
}[<span style=color:#a6e22e>_ExtractedKeys</span>]


<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>NewUnion</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ValuesOfKeysStartingWithA</span>&lt;<span style=color:#f92672>Obj</span>&gt;
</code></pre></div><p>ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§å‹<code>_ExtractedKeys</code>ã«<code>keyof Obj = Extract&lt;keyof Obj, `a${string}`>></code>ã®åˆ¶ç´„ã‚’ã¤ã‘ã¦ã„ã‚‹ã€‚<br>
ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹å¼•æ•°ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€<code>keyof Obj</code>ãŒå­˜åœ¨ã—ãªã„ã€ã¤ã¾ã‚Šã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®ç¬¬2å¼•æ•°ãŒå­˜åœ¨ã—ãªã„å ´åˆã€
<code>Extract&lt;keyof Obj, `a${string}`>></code>ãŒ<code>_ExtractedKeys</code>ã®å‹ã«ãªã‚‹ã€‚<br>
<code>Extract&lt;keyof Obj, `a${string}`>></code>ãŒ<code>_ExtractedKeys</code>ã®å‹ã«ãªã‚‹ã€‚<br>
å‚è€ƒè¨˜äº‹ï¼š<a href=https://typescriptbook.jp/reference/generics/default-type-parameter target=_blank>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹å¼•æ•°</a><br>
ã‚ˆã£ã¦ä»Šå›ã®å ´åˆã€å‹<code>_ExtractedKeys</code>ã¯<code>"a" | "a2" | "a3"</code>ã«æ¨è«–ã•ã‚Œã‚‹ã€‚</p>
<hr>
<h2 id=ã¾ã¨ã‚>ã¾ã¨ã‚</h2>
<p>éå»ã«Tipsã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãŸã®ã§ã€å¤§åˆ†å‹ã®æµã‚Œã‚’æ´ã‚ã‚‹ã‚ˆã†ã«ãªã£ã¦ããŸã€‚<br>
ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹å¼•æ•°ã¯ä¹…ã—ã¶ã‚Šã«å¾©ç¿’ã§ãã¦ã‚ˆã‹ã£ãŸã€‚</p>
<hr>
<h2 id=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</h2>
<p><a href=https://twitter.com/mpocock1/status/1516755042816172042 target=_blank>TypeScript Tip #20</a><br>
<a href=https://qiita.com/k-penguin-sato/items/e2791d7a57e96f6144e5#extracttu target=_blank>ã€TypeScriptã€‘Utility Typesã‚’ã¾ã¨ã‚ã¦ç†è§£ã™ã‚‹</a><br>
<a href=https://typescriptbook.jp/reference/generics/default-type-parameter target=_blank>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹å¼•æ•°</a></p>
</div>
</div><div id=social-media-share class=has-text-centered>
<br>
<div class=share-buttons>
</div>
</div>
<br>
<div id=disqus_thread></div>
<script type=text/javascript>(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
</div>
</div>
<footer class="footer has-background-dark">
<div class="content has-text-centered has-text-white">
<p>Â© 2022 issei1213 All rights reserved.</p>
</div>
</footer>
</body>
</html>