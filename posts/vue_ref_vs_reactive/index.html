<!doctype html><html lang=ja-jp>
<head><title>
Refとreactive |
TechBlog(仮)</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name=description content="背景 refとreactiveの使い分けがパッとでてこなかったことがあったのでまとめていく。
概要  どの状況で使い分ければいいのか refとreactiveの違い  本題 1.どの状況で使い分ければいいのか refはプリミティブ型に対して使用する。 reactiveはオブジェクト型に対して使用する。
2.refとreactiveの違い ref const boolean = ref(false) // export function ref<boolean>(value: boolean): Ref<boolean>  TypeScriptの場合は、引数(初期値)を型推論してくれる。 明示的にしたい型注釈したい場合は、ref<boolean | null>(false)と使用することもできる。 基本的になんでも(オブジェクト、配列、プリミティブ)refで使用ができる。 引数の値がオブジェクトの場合は、Vue内部でreactiveに更新している。更新している負荷を与えてしまうため、オブジェクトの場合は、reactiveを使用したほうがいいと言われている。 ref.valueでデータを格納する Ex)boolean.value = true  reactive const user = reactive({ firstName: '太郎', lastName: '山田', height: 160, weight: 50 }) // const user: {firstName: string, lastName: string, height: number, weight: number}  TypeScriptの場合は、引数(初期値)を型推論してくれる。 型注釈をつけたい場合は、ジェネクリスを使用できる  const user = reactive<{ firstName?: string lastName?
    ">
<meta property="og:title" content="refとreactive">
<meta property="og:description" content="背景 refとreactiveの使い分けがパッとでてこなかったことがあったのでまとめていく。
概要  どの状況で使い分ければいいのか refとreactiveの違い  本題 1.どの状況で使い分ければいいのか refはプリミティブ型に対して使用する。 reactiveはオブジェクト型に対して使用する。
2.refとreactiveの違い ref const boolean = ref(false) // export function ref<boolean>(value: boolean): Ref<boolean>  TypeScriptの場合は、引数(初期値)を型推論してくれる。 明示的にしたい型注釈したい場合は、ref<boolean | null>(false)と使用することもできる。 基本的になんでも(オブジェクト、配列、プリミティブ)refで使用ができる。 引数の値がオブジェクトの場合は、Vue内部でreactiveに更新している。更新している負荷を与えてしまうため、オブジェクトの場合は、reactiveを使用したほうがいいと言われている。 ref.valueでデータを格納する Ex)boolean.value = true  reactive const user = reactive({ firstName: '太郎', lastName: '山田', height: 160, weight: 50 }) // const user: {firstName: string, lastName: string, height: number, weight: number}  TypeScriptの場合は、引数(初期値)を型推論してくれる。 型注釈をつけたい場合は、ジェネクリスを使用できる  const user = reactive<{ firstName?: string lastName?">
<meta property="og:type" content="article">
<meta property="og:url" content="http://example.org/posts/vue_ref_vs_reactive/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2022-03-25T00:00:00+09:00">
<meta property="article:modified_time" content="2022-03-25T00:00:00+09:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="refとreactive">
<meta name=twitter:description content="背景 refとreactiveの使い分けがパッとでてこなかったことがあったのでまとめていく。
概要  どの状況で使い分ければいいのか refとreactiveの違い  本題 1.どの状況で使い分ければいいのか refはプリミティブ型に対して使用する。 reactiveはオブジェクト型に対して使用する。
2.refとreactiveの違い ref const boolean = ref(false) // export function ref<boolean>(value: boolean): Ref<boolean>  TypeScriptの場合は、引数(初期値)を型推論してくれる。 明示的にしたい型注釈したい場合は、ref<boolean | null>(false)と使用することもできる。 基本的になんでも(オブジェクト、配列、プリミティブ)refで使用ができる。 引数の値がオブジェクトの場合は、Vue内部でreactiveに更新している。更新している負荷を与えてしまうため、オブジェクトの場合は、reactiveを使用したほうがいいと言われている。 ref.valueでデータを格納する Ex)boolean.value = true  reactive const user = reactive({ firstName: '太郎', lastName: '山田', height: 160, weight: 50 }) // const user: {firstName: string, lastName: string, height: number, weight: number}  TypeScriptの場合は、引数(初期値)を型推論してくれる。 型注釈をつけたい場合は、ジェネクリスを使用できる  const user = reactive<{ firstName?: string lastName?">
<meta itemprop=name content="refとreactive">
<meta itemprop=description content="背景 refとreactiveの使い分けがパッとでてこなかったことがあったのでまとめていく。
概要  どの状況で使い分ければいいのか refとreactiveの違い  本題 1.どの状況で使い分ければいいのか refはプリミティブ型に対して使用する。 reactiveはオブジェクト型に対して使用する。
2.refとreactiveの違い ref const boolean = ref(false) // export function ref<boolean>(value: boolean): Ref<boolean>  TypeScriptの場合は、引数(初期値)を型推論してくれる。 明示的にしたい型注釈したい場合は、ref<boolean | null>(false)と使用することもできる。 基本的になんでも(オブジェクト、配列、プリミティブ)refで使用ができる。 引数の値がオブジェクトの場合は、Vue内部でreactiveに更新している。更新している負荷を与えてしまうため、オブジェクトの場合は、reactiveを使用したほうがいいと言われている。 ref.valueでデータを格納する Ex)boolean.value = true  reactive const user = reactive({ firstName: '太郎', lastName: '山田', height: 160, weight: 50 }) // const user: {firstName: string, lastName: string, height: number, weight: number}  TypeScriptの場合は、引数(初期値)を型推論してくれる。 型注釈をつけたい場合は、ジェネクリスを使用できる  const user = reactive<{ firstName?: string lastName?"><meta itemprop=datePublished content="2022-03-25T00:00:00+09:00">
<meta itemprop=dateModified content="2022-03-25T00:00:00+09:00">
<meta itemprop=wordCount content="105">
<meta itemprop=keywords content="Vue.js,">
<link rel=canonical href=http://example.org/posts/vue_ref_vs_reactive/>
<link rel=icon type=image/png href=http://example.org/image/favicon.ico>
<link rel=stylesheet href=/css/font-awesome.min.css>
<link rel=stylesheet href=/css/bulma.min.css>
<script src=/js/ramium.js></script>
<link rel=stylesheet href=/css/ramium.css>
</head>
<body><nav class="navbar is-dark" role=navigation aria-label="main navigation">
<div class=navbar-brand>
<a class=navbar-item href=/>
<strong>TechBlog(仮) </strong>
</a>
<a role=button class="navbar-burger burger" aria-label=menu aria-expanded=false data-target=navbarBasicExample>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
</a>
</div>
<div id=navbarBasicExample class=navbar-menu>
<div class=navbar-start>
<a class=navbar-item href=/>Home</a>
<div class="navbar-item has-dropdown is-hoverable">
<a class=navbar-link>This Blog</a>
<div class=navbar-dropdown>
<a class=navbar-item href=/tags/>All Tags</a>
<a class=navbar-item href=/posts/>All Posts</a>
</div>
</div>
</div>
<div class=navbar-end>
</div>
</div>
</nav><div class="columns is-centered">
<div id=page-body class="column is-7">
<div class="content blog">
<h1>Refとreactive</h1>
<div id=infobar class="level is-mobile">
<div class=level-left>
<div class=level-item>
<p class="subtitle info date">Mar 25, 2022
</p>
</div>
<div class=level-item>
<p class="subtitle info">
4 mins read
</p>
</div>
</div>
<div class="level-right is-hidden-touch">
<div class=tags>
<a class="tag is-dark is-rounded" href=/tags/vue.js>Vue.js</a>
</div>
</div>
</div>
<div class="tags is-hidden-desktop">
<a class="tag is-dark is-rounded" href=/tags/vue.js>Vue.Js</a>
</div>
<div class=blog-text>
<h2 id=背景>背景</h2>
<p><code>ref</code>と<code>reactive</code>の使い分けがパッとでてこなかったことがあったのでまとめていく。</p>
<h2 id=概要>概要</h2>
<ol>
<li>どの状況で使い分ければいいのか</li>
<li><code>ref</code>と<code>reactive</code>の違い</li>
</ol>
<h2 id=本題>本題</h2>
<h3 id=1どの状況で使い分ければいいのか>1.どの状況で使い分ければいいのか</h3>
<p><code>ref</code>はプリミティブ型に対して使用する。<br>
<code>reactive</code>はオブジェクト型に対して使用する。</p>
<h3 id=2refとreactiveの違い>2.<code>ref</code>と<code>reactive</code>の違い</h3>
<h4 id=ref><code>ref</code></h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>boolean</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ref</span>(<span style=color:#66d9ef>false</span>)
<span style=color:#75715e>// export function ref&lt;boolean&gt;(value: boolean): Ref&lt;boolean&gt;
</span></code></pre></div><ul>
<li>TypeScriptの場合は、引数(初期値)を型推論してくれる。</li>
<li>明示的にしたい型注釈したい場合は、<code>ref&lt;boolean | null>(false)</code>と使用することもできる。</li>
<li>基本的になんでも(オブジェクト、配列、プリミティブ)<code>ref</code>で使用ができる。</li>
<li>引数の値がオブジェクトの場合は、Vue内部で<code>reactive</code>に更新している。<br><strong>更新している負荷を与えてしまうため、オブジェクトの場合は、<code>reactive</code>を使用したほうがいいと言われている。</strong></li>
<li>ref.valueでデータを格納する Ex)<code>boolean.value = true</code></li>
</ul>
<h4 id=reactive><code>reactive</code></h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>reactive</span>({
  <span style=color:#a6e22e>firstName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;太郎&#39;</span>,
  <span style=color:#a6e22e>lastName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;山田&#39;</span>,
  <span style=color:#a6e22e>height</span>: <span style=color:#66d9ef>160</span>,
  <span style=color:#a6e22e>weight</span>: <span style=color:#66d9ef>50</span>
})
<span style=color:#75715e>// const user: {firstName: string, lastName: string, height: number, weight: number}
</span></code></pre></div><ul>
<li>TypeScriptの場合は、引数(初期値)を型推論してくれる。</li>
<li>型注釈をつけたい場合は、ジェネクリスを使用できる</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-typescript data-lang=typescript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>reactive</span><span style=color:#f92672>&lt;</span>{
  <span style=color:#a6e22e>firstName?</span>: <span style=color:#66d9ef>string</span>
  <span style=color:#a6e22e>lastName?</span>: <span style=color:#66d9ef>string</span>
  <span style=color:#a6e22e>height</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>
  <span style=color:#a6e22e>weight</span>: <span style=color:#66d9ef>number</span> <span style=color:#f92672>|</span> <span style=color:#66d9ef>null</span>
}<span style=color:#f92672>&gt;</span>({
  <span style=color:#a6e22e>firstName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;太郎&#39;</span>,
  <span style=color:#a6e22e>lastName</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;山田&#39;</span>,
  <span style=color:#a6e22e>height</span>: <span style=color:#66d9ef>160</span>,
  <span style=color:#a6e22e>weight</span>: <span style=color:#66d9ef>50</span>,
})
</code></pre></div><ul>
<li>オブジェクトのみ使用ができる。</li>
<li>データの格納は通常のオブジェクトの様に操作する。 ex) <code>user.firstName = '二郎''</code></li>
<li>分割代入やスプレッド構文を使用するとリアクティブ性が失われる。</li>
</ul>
<h2 id=まとめ>まとめ</h2>
<p>基本的に以下の参考文献を参考したが、公式のベストプラクティスを提示していないため、今後は方針がかわる可能性もある。
その時には、再度更新していく。
以下の記事が非常にわかりやすいため、詳細は以下の記事を参考にするといい。</p>
<h2 id=参考文献>参考文献</h2>
<p><a href=https://kobatech-blog.com/vue-composition-api-ref-reactive/>Vue Composition APIのrefとreactiveを解説！違いと使い分け</a></p>
<p><a href=https://stackoverflow.com/questions/61452458/ref-vs-reactive-in-vue-3>ref vs reactive in Vue 3?</a></p>
</div>
</div><div id=social-media-share class=has-text-centered>
<p><i>Sharing is caring!</i></p>
<br>
<div class=share-buttons>
<a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fexample.org%2fposts%2fvue_ref_vs_reactive%2f" onclick="return socialMediaPopUp(this.href,'',500,500),!1" title="Share on Facebook. Opens in a new window.">
<img src=/img/icons/45px/facebook.png>
</a>
<a href="https://twitter.com/intent/tweet?text=ref%e3%81%a8reactive&url=http%3a%2f%2fexample.org%2fposts%2fvue_ref_vs_reactive%2f" onclick="return socialMediaPopUp(this.href,'',500,500),!1" title="Share on Twitter. Opens in a new window.">
<img src=/img/icons/45px/twitter.png>
</a>
<a href="http://www.reddit.com/submit?url=http%3a%2f%2fexample.org%2fposts%2fvue_ref_vs_reactive%2f" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on Reddit. Opens in a new window.">
<img src=/img/icons/45px/reddit.png>
</a>
<a href="http://pinterest.com/pin/create/button/?url=http%3a%2f%2fexample.org%2fposts%2fvue_ref_vs_reactive%2f" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on Pinterest. Opens in a new window.">
<img src=/img/icons/45px/pinterest.png>
</a>
<a href="http://www.tumblr.com/share/link?url=http%3a%2f%2fexample.org%2fposts%2fvue_ref_vs_reactive%2f" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on Tumblr. Opens in a new window.">
<img src=/img/icons/45px/tumblr.png>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fexample.org%2fposts%2fvue_ref_vs_reactive%2f
			&title=ref%e3%81%a8reactive&summary=%e8%83%8c%e6%99%af%20ref%e3%81%a8reactive%e3%81%ae%e4%bd%bf%e3%81%84%e5%88%86%e3%81%91%e3%81%8c%e3%83%91%e3%83%83%e3%81%a8%e3%81%a7%e3%81%a6%e3%81%93%e3%81%aa%e3%81%8b%e3%81%a3%e3%81%9f%e3%81%93%e3%81%a8%e3%81%8c%e3%81%82%e3%81%a3%e3%81%9f%e3%81%ae%e3%81%a7%e3%81%be%e3%81%a8%e3%82%81%e3%81%a6%e3%81%84%e3%81%8f%e3%80%82%0a%e6%a6%82%e8%a6%81%20%20%e3%81%a9%e3%81%ae%e7%8a%b6%e6%b3%81%e3%81%a7%e4%bd%bf%e3%81%84%e5%88%86%e3%81%91%e3%82%8c%e3%81%b0%e3%81%84%e3%81%84%e3%81%ae%e3%81%8b%20ref%e3%81%a8reactive%e3%81%ae%e9%81%95%e3%81%84%20%20%e6%9c%ac%e9%a1%8c%201.%e3%81%a9%e3%81%ae%e7%8a%b6%e6%b3%81%e3%81%a7%e4%bd%bf%e3%81%84%e5%88%86%e3%81%91%e3%82%8c%e3%81%b0%e3%81%84%e3%81%84%e3%81%ae%e3%81%8b%20ref%e3%81%af%e3%83%97%e3%83%aa%e3%83%9f%e3%83%86%e3%82%a3%e3%83%96%e5%9e%8b%e3%81%ab%e5%af%be%e3%81%97%e3%81%a6%e4%bd%bf%e7%94%a8%e3%81%99%e3%82%8b%e3%80%82%20reactive%e3%81%af%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e5%9e%8b%e3%81%ab%e5%af%be%e3%81%97%e3%81%a6%e4%bd%bf%e7%94%a8%e3%81%99%e3%82%8b%e3%80%82%0a2.ref%e3%81%a8reactive%e3%81%ae%e9%81%95%e3%81%84%20ref%20const%20boolean%20%3d%20ref%28false%29%20%2f%2f%20export%20function%20ref%26lt%3bboolean%26gt%3b%28value%3a%20boolean%29%3a%20Ref%26lt%3bboolean%26gt%3b%20%20TypeScript%e3%81%ae%e5%a0%b4%e5%90%88%e3%81%af%e3%80%81%e5%bc%95%e6%95%b0%28%e5%88%9d%e6%9c%9f%e5%80%a4%29%e3%82%92%e5%9e%8b%e6%8e%a8%e8%ab%96%e3%81%97%e3%81%a6%e3%81%8f%e3%82%8c%e3%82%8b%e3%80%82%20%e6%98%8e%e7%a4%ba%e7%9a%84%e3%81%ab%e3%81%97%e3%81%9f%e3%81%84%e5%9e%8b%e6%b3%a8%e9%87%88%e3%81%97%e3%81%9f%e3%81%84%e5%a0%b4%e5%90%88%e3%81%af%e3%80%81ref%26lt%3bboolean%20%7c%20null%26gt%3b%28false%29%e3%81%a8%e4%bd%bf%e7%94%a8%e3%81%99%e3%82%8b%e3%81%93%e3%81%a8%e3%82%82%e3%81%a7%e3%81%8d%e3%82%8b%e3%80%82%20%e5%9f%ba%e6%9c%ac%e7%9a%84%e3%81%ab%e3%81%aa%e3%82%93%e3%81%a7%e3%82%82%28%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%80%81%e9%85%8d%e5%88%97%e3%80%81%e3%83%97%e3%83%aa%e3%83%9f%e3%83%86%e3%82%a3%e3%83%96%29ref%e3%81%a7%e4%bd%bf%e7%94%a8%e3%81%8c%e3%81%a7%e3%81%8d%e3%82%8b%e3%80%82%20%e5%bc%95%e6%95%b0%e3%81%ae%e5%80%a4%e3%81%8c%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e5%a0%b4%e5%90%88%e3%81%af%e3%80%81Vue%e5%86%85%e9%83%a8%e3%81%a7reactive%e3%81%ab%e6%9b%b4%e6%96%b0%e3%81%97%e3%81%a6%e3%81%84%e3%82%8b%e3%80%82%e6%9b%b4%e6%96%b0%e3%81%97%e3%81%a6%e3%81%84%e3%82%8b%e8%b2%a0%e8%8d%b7%e3%82%92%e4%b8%8e%e3%81%88%e3%81%a6%e3%81%97%e3%81%be%e3%81%86%e3%81%9f%e3%82%81%e3%80%81%e3%82%aa%e3%83%96%e3%82%b8%e3%82%a7%e3%82%af%e3%83%88%e3%81%ae%e5%a0%b4%e5%90%88%e3%81%af%e3%80%81reactive%e3%82%92%e4%bd%bf%e7%94%a8%e3%81%97%e3%81%9f%e3%81%bb%e3%81%86%e3%81%8c%e3%81%84%e3%81%84%e3%81%a8%e8%a8%80%e3%82%8f%e3%82%8c%e3%81%a6%e3%81%84%e3%82%8b%e3%80%82%20ref.value%e3%81%a7%e3%83%87%e3%83%bc%e3%82%bf%e3%82%92%e6%a0%bc%e7%b4%8d%e3%81%99%e3%82%8b%20Ex%29boolean.value%20%3d%20true%20%20reactive%20const%20user%20%3d%20reactive%28%7b%20firstName%3a%20%26%2339%3b%e5%a4%aa%e9%83%8e%26%2339%3b%2c%20lastName%3a%20%26%2339%3b%e5%b1%b1%e7%94%b0%26%2339%3b%2c%20height%3a%20160%2c%20weight%3a%2050%20%7d%29%20%2f%2f%20const%20user%3a%20%7bfirstName%3a%20string%2c%20lastName%3a%20string%2c%20height%3a%20number%2c%20weight%3a%20number%7d%20%20TypeScript%e3%81%ae%e5%a0%b4%e5%90%88%e3%81%af%e3%80%81%e5%bc%95%e6%95%b0%28%e5%88%9d%e6%9c%9f%e5%80%a4%29%e3%82%92%e5%9e%8b%e6%8e%a8%e8%ab%96%e3%81%97%e3%81%a6%e3%81%8f%e3%82%8c%e3%82%8b%e3%80%82%20%e5%9e%8b%e6%b3%a8%e9%87%88%e3%82%92%e3%81%a4%e3%81%91%e3%81%9f%e3%81%84%e5%a0%b4%e5%90%88%e3%81%af%e3%80%81%e3%82%b8%e3%82%a7%e3%83%8d%e3%82%af%e3%83%aa%e3%82%b9%e3%82%92%e4%bd%bf%e7%94%a8%e3%81%a7%e3%81%8d%e3%82%8b%20%20const%20user%20%3d%20reactive%26lt%3b%7b%20firstName%3f%3a%20string%20lastName%3f&source=rafed123.github.io" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on LinkedIn. Opens in a new window.">
<img src=/img/icons/45px/linkedin.png>
</a>
<a href="mailto:?subject=ref%e3%81%a8reactive&body=Check out this site http%3a%2f%2fexample.org%2fposts%2fvue_ref_vs_reactive%2f" title="Share via Email. Opens in a new window.">
<img src=/img/icons/45px/mail.png>
</a>
</div>
</div>
<br>
<div id=disqus_thread></div>
<script type=text/javascript>(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
</div>
</div>
<footer class="footer has-background-dark">
<div class="content has-text-centered has-text-white">
<p>
© 2020 Ramium. Powered by
<a class=has-text-light href=https://github.com/gohugoio/hugo target=_blank>
Hugo</a>. Theme
<a class=has-text-light href=https://github.com/rafed123/ramium/ target=_blank>
Ramium.
</a>
</p>
</div>
</footer>
</body>
</html>