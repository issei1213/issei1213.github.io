<!doctype html><html lang=ja-jp>
<head><title>
TypeScript |
TechBlog</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name=description content="æŠ€è¡“ãƒ–ãƒ­ã‚°
    ">
<meta property="og:image" content="https://issei1213.github.io/img/logo.png">
<meta name=twitter:card content="summary">
<meta property="og:title" content="TypeScript">
<meta property="og:description" content="æŠ€è¡“ãƒ–ãƒ­ã‚°">
<meta property="og:type" content="website">
<meta property="og:url" content="https://issei1213.github.io/tags/typescript/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="TypeScript">
<meta name=twitter:description content="æŠ€è¡“ãƒ–ãƒ­ã‚°">
<meta itemprop=name content="TypeScript">
<meta itemprop=description content="æŠ€è¡“ãƒ–ãƒ­ã‚°">
<link rel=canonical href=https://issei1213.github.io/tags/typescript/>
<link rel=icon type=image/png href=https://issei1213.github.io/img/favicon.png>
<link rel=stylesheet href=/css/font-awesome.min.css>
<link rel=stylesheet href=/css/bulma.min.css>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-3WPQ6FJXBQ','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<script src=/js/ramium.js></script>
<link rel=stylesheet href=/css/ramium.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3WPQ6FJXBQ"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config',"G-3WPQ6FJXBQ")</script>
</head>
<body><nav class="navbar is-dark" role=navigation aria-label="main navigation">
<div class=navbar-brand>
<a class=navbar-item href=/>
<strong>TechBlog </strong>
</a>
<a role=button class="navbar-burger burger" aria-label=menu aria-expanded=false data-target=navbarBasicExample>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span>
</a>
</div>
<div id=navbarBasicExample class=navbar-menu>
<div class=navbar-start>
<a class=navbar-item href=/>ãƒ›ãƒ¼ãƒ </a>
<div class="navbar-item has-dropdown is-hoverable">
<a class=navbar-link>ãƒ–ãƒ­ã‚°</a>
<div class=navbar-dropdown>
<a class=navbar-item href=/tags/>ã‚¿ã‚°</a>
<a class=navbar-item href=/posts/>è¨˜äº‹</a>
</div>
</div>
</div>
<div class=navbar-end>
<a class="navbar-item navgithub" href=https://github.com/issei1213 target=_blank>
<i class="fa fa-github fa-2x"></i>
</a>
<a class="navbar-item navgithub" href=https://twitter.com/abIOELEsEfu6Os0 target=_blank>
<i class="fa brands fa-twitter fa-2x"></i>
</a>
</div>
</div>
</nav><div class="columns is-centered">
<div id=page-body class="column is-7">
<div class=content>
<h1>TypeScript</h1>
</div>
<div class=blog-brief>
<a href=/posts/typescript-exhaustive-check/>
<h3 class="title is-4">
TypeScriptã§ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript-exhaustive-check/>
<p class="subtitle info date">May 31, 2024
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript-exhaustive-check/>
<p class="subtitle info">
9 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript-exhaustive-check/>
<p class=summary>
èƒŒæ™¯ ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’èª­ã‚“ã§ã„ã¦ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã«ã¤ã„ã¦çŸ¥ã£ãŸã®ã§ã€TypeScriptã§ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã«ã¤ã„ã¦è‡ªåˆ†ãªã‚Šã«ã¾ã¨ã‚ã¦ã¿ãŸã€‚
æ¦‚è¦ ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã¨ã¯ã€å…¨ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…ã—ã¦ã„ã‚‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹ã“ã¨ã‚’æŒ‡ã™ã€‚
TypeScriptã¯æ§˜ã€…ãªã‚±ãƒ¼ã‚¹ã§åˆ©ç”¨ã§ãã‚‹ãŒã€ä»Šå›ã¯æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’åˆ©ç”¨ã—ã¦ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
æœ¬é¡Œ ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã™ã‚‹ã€‚
Fruitå‹ã«ã¯appleã€bananaã€orangeã®3ã¤ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ãŒã‚ã‚Šã€checkAllFruitsé–¢æ•°ã¯Fruitå‹ã‚’å¼•æ•°ã«å–ã‚Šã€ãã®å€¤ã«ã‚ˆã£ã¦å‡¦ç†ã‚’åˆ†å²ã—ã¦ã„ã‚‹ã€‚
ã“ã“ã§ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«console.logã§å‡ºåŠ›ã—ã¦ã„ã‚‹ã€‚
type Fruit = 'apple' | 'banana' | 'orange'; function checkAllFruits(fruit: Fruit): void { if(fruit === 'apple') { console.log('This is an apple.'); return } else if (fruit === 'banana') { console.log('This is a banana.'); return } else { console.log('This is an orange.'); return } } checkAllFruits('apple') // This is an apple. checkAllFruits('banana') // This is an banana. checkAllFruits('orange') // This is an orange.
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript-exhaustive-check/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/solidjs_types/>
<h3 class="title is-4">
Component Typesã¨Event Handlers
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/solidjs_types/>
<p class="subtitle info date">Aug 12, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/solidjs_types/>
<p class="subtitle info">
7 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/solidjs>SolidJS</a>
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/solidjs_types/>
<p class=summary>
èƒŒæ™¯ SolidJSã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹å®šç¾©ã«ã¤ã„ã¦æ‚©ã‚“ã§ã„ãŸãŒã€å…¬å¼ã§è§£èª¬ãŒä¹—ã£ã¦ã„ãŸã®ã§ã€
å€‹äººçš„ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã«ã™ã‚‹ã€‚
æ¦‚è¦ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹å®šç¾©ã®æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
å…¬å¼ã§ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹ã‚’Component Typesã€ã‚¨ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹ã‚’Event Handlersã¨ã—ã¦è¨˜è¼‰ã—ã¦ã„ã‚‹ã®ã§ã€ åŒä¸€ã®å˜èªã‚’ä½¿ç”¨ã—ã¦ã„ãã€‚
æœ¬é¡Œ Component Types Component import type { JSX, Component } from 'solid-js'; type Component&lt;P = {}> = (props: P) => JSX.Element; åŸºæœ¬çš„ã«ã¯Reactã®FCã¨åŒã˜ã‚ˆã†ãªä½¿ã„å‹ãŒã§ãã€propsã®å‹ã‚’ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
æˆ»ã‚Šå€¤ã¯JSX.Elementã«ãªã‚‹ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€€â€»å…¬å¼ã®ã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§
import { render } from "solid-js/web"; import { createSignal, Component } from "solid-js"; const Counter: Component = () => { const [count, setCount] = createSignal(0); return ( &lt;button onClick={() => setCount((c) => c+1)}> {count()} &lt;/button> ); }; const InitCounter: Component&lt;{initial: number}> = (props) => { const [count, setCount] = createSignal(props.
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/solidjs_types/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_tip-20/>
<h3 class="title is-4">
TypeScript Tip #20
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_tip-20/>
<p class="subtitle info date">Apr 20, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_tip-20/>
<p class="subtitle info">
8 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_tip-20/>
<p class=summary>
èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚
TypeScript Tip #20
æ¦‚è¦ ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚
export type Obj = { a: 'a', a2: 'a2', a3: 'a3', b: 'b', b1: 'b1', b2: 'b2' } // ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„ type NewUnion = "a" | "a2" | "a3" æœ¬é¡Œ ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚
type ValuesOfKeysStartingWithA&lt;Obj> = { [K in Extract&lt;keyof Obj, `a${string}`>]: Obj[K]; }[Extract&lt;keyof Obj, `a${string}`>] type NewUnion = ValuesOfKeysStartingWithA&lt;Obj> // type NewUnion = "a" | "a2" | "a3" ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯Extract&lt;keyof Obj,`a${string}`>ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚ ã¾ãšã€a${string}ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—aã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚ type TestType = `a${string}` // Success const test1: TestType = 'a' const test2: TestType = 'a1' // Error const test3: TestType = '1' // Type '"1"' is not assignable to type '`a${string}`'.
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_tip-20/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_tip-8/>
<h3 class="title is-4">
TypeScript Tip #8
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_tip-8/>
<p class="subtitle info date">Apr 15, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_tip-8/>
<p class="subtitle info">
5 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
<a class="tag is-rounded" href=/tags/react>React</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_tip-8/>
<p class=summary>
èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
TypeScript Tip #8
æ¦‚è¦ Reactã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€å‹•çš„ã§æŸ”è»Ÿãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
æœ¬é¡Œ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯Reactã®ã‚µãƒ³ãƒ—ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚‹ã€‚
Tableã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®propsã«å­˜åœ¨ã™ã‚‹itemsã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã«ãªã£ã¦ã„ã‚‹ã€‚
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£idã®ã¿ã‚’ä¿æŒã—ã¦ã„ã‚‹ã€‚
import React from 'react' interface TableProps { items: { id: string }[] renderItem: (item: { id: string }) => React.ReactNode } export const Table = (props: TableProps) => { return null } const Component = () => { return ( &lt;Table items={[ { id: '1', } ]} renderItem={(item) => &lt;div>{ item.id }&lt;/div>} >&lt;/Table> ) } ä¸Šè¨˜ã®å ´åˆã€propsitemsã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®idä»¥å¤–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ãŸã„å ´åˆã€TablePropsã«ã‚‚è¿½åŠ ã‚’ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ ä»¥ä¸‹ã¯ãã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_tip-8/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_tip-7/>
<h3 class="title is-4">
TypeScript Tip #7
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_tip-7/>
<p class="subtitle info date">Apr 13, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_tip-7/>
<p class="subtitle info">
6 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_tip-7/>
<p class=summary>
èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®è¨˜äº‹ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
TypeScript Tip #7
æ¦‚è¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸­èº«ã‚’é †ç•ªã«å‡¦ç†ã—ã¦ã„ãæ™‚ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚
const myObject = { a: 1, b: 2, c: 3 } Object.keys(myObject).forEach((key) => { console.log(myObject[key]) // Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ a: number; b: number; c: number; }'. // No index signature with a parameter of type 'string' was found on type '{ a: number; b: number; c: number; }'.
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_tip-7/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_tip-5/>
<h3 class="title is-4">
TypeScript Tip #5
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_tip-5/>
<p class="subtitle info date">Apr 10, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_tip-5/>
<p class="subtitle info">
3 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_tip-5/>
<p class=summary>
èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®å‹•ç”»ã‚’ã¾ã¨ã‚ã¦ã„ã
TypeScript Tip #5
æ¦‚è¦ å‹æ¨è«–ã•ã‚ŒãŸå‹ã«å¯¾ã—ã¦extendsã‚’ä½¿ç”¨ã™ã‚‹ã¾ã¨ã‚ã¦ã„ãã€‚
æœ¬é¡Œ å®Ÿéš›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã€‚ getDeepValueé–¢æ•°ã®å¼•æ•°ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ã€ãã“ã‹ã‚‰å‹æ¨è«–ã‚’ã•ã›ã¦ã„ã‚‹ã€‚
ç¬¬2å¼•æ•°ã€ç¬¬3å¼•æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã‚’æŒ‡å®šã—ã¦ã€æœ€çµ‚çš„ãªãƒãƒªãƒ¥ãƒ¼ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ãªé–¢æ•°ã‚’ä½œæˆã™ã‚‹ã€‚
export const getDeepValue = &lt; Obj, FirstKey extends keyof Obj, SecondKey extends keyof Obj[FirstKey] >( obj: Obj, firstKey: FirstKey, secondKey: SecondKey ): Obj[FirstKey][SecondKey] => { return obj[firstKey][secondKey] } const obj = { foo: { a: true, b: 2 }, bar: { c: 'cool', d: 2 } } console.log(getDeepValue(obj, 'bar', 'd')) å¼•æ•°ã®ç¬¬2å¼•æ•°FirstKeyã¯å‹æ¨è«–ã•ã‚ŒãŸObjã«åˆ¶ç´„ã‚’è¨­ã‘ã¦ã„ã‚‹ã€‚ FirstKey extends keyof { foo: { a: boolean; b: number; }; bar: { c: string; d: number; }; } ğŸ”½ FirstKey extends "foo" | "bar" ã‚ˆã£ã¦ã€FirstKeyã¯fooã‹barã®ã©ã¡ã‚‰ã‹ã«ãªã‚‹ã€‚
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_tip-5/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_tip-3/>
<h3 class="title is-4">
TypeScript Tip #3
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_tip-3/>
<p class="subtitle info date">Apr 9, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_tip-3/>
<p class="subtitle info">
7 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_tip-3/>
<p class=summary>
èƒŒæ™¯ ä»Šå›ã‚‚mattoã•ã‚“ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãã€‚
TypeScript Tip #3
æ¦‚è¦ ä»Šå›ã¯TypeScriptã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ã¾ã¨ã‚ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªts-toolbeltã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã€‚
æ³¨æ„ç‚¹ã¨ã—ã¦ã¯ã€TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ4.1ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ æ•°å¤šãã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ä»Šå›ã¯Mattã•ã‚“ã®è§£èª¬ã«çµã£ã¦ã¾ã¨ã‚ã¦ã„ãã€‚
ts-toolbelt
æœ¬é¡Œ ä½¿ã„æ–¹ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸­ã‹ã‚‰ä½¿ç”¨ã—ãŸã„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’importã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚
import { String, Union } from 'ts-toolbelt'; ä»Šå›ã¯URLã®æ“ä½œã‚’ã™ã‚‹æ™‚ã«ä¾¿åˆ©ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ import { String, Union } from 'ts-toolbelt'; const query = '/home?a=foo&b=wow' type Query = typeof query // type Query = "/home?a=foo&b=wow" type SecondQueryPart = String.Split&lt;Query, '?'>[1] // type SecondQueryPart = "a=foo&b=wow" type QueryElements = String.Split&lt;SecondQueryPart, '&'> // type QueryElements = ["a=foo", "b=wow"] type QueryParams = { [ QueryElement in QueryElements[number] ]: { [ key in String.
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_tip-3/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_tip-2/>
<h3 class="title is-4">
TypeScript Tip #2
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_tip-2/>
<p class="subtitle info date">Apr 8, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_tip-2/>
<p class="subtitle info">
4 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_tip-2/>
<p class=summary>
èƒŒæ™¯ ä»Šå›ã‚‚mattoã•ã‚“ã®TypeScriptã®å‹•ç”»ã‚’ã¾ã¨ã‚ã¦ã„ã
æ¦‚è¦ ä¸‹è¨˜ã®æ§˜ãªEntityã®å‹ã‚’å®šç¾©ã™ã‚‹ã€‚
type Entity = | { type: 'user' } | { type: 'post' } | { type: 'comment' } ä¸Šè¨˜ã®å‹ã®å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«idã‚’è¿½åŠ ã—ãŸã„ã€‚ãã®æ™‚ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚
typeã«å¿œã˜ãŸidã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã„ã‚‹ã€‚
type EntityWithId = | { type: 'user' userId: string } | { type: 'post' postId: string } | { type: 'comment' commentId: string } const result1: EntityWithId = { type: 'post', postId: '123' } const result2: EntityWithId = { type: 'user', userId: '123' } ä»Šå›ã¯EntityWithIdã®éƒ¨åˆ†ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚·ã‚°ãƒãƒãƒ£ã‚’åˆ©ç”¨ã—ã¦ä½œæˆã—ã¦ã„ãã€‚
æœ¬é¡Œ å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚ç´°ã‹ãã¿ã¦ã„ãã€‚
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_tip-2/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_tip-1/>
<h3 class="title is-4">
TypeScript Tip #1
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_tip-1/>
<p class="subtitle info date">Apr 7, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_tip-1/>
<p class="subtitle info">
6 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_tip-1/>
<p class=summary>
èƒŒæ™¯ å‰å›ã®mattã•ã‚“ã®TypeScript Tip #15ãŒå‹‰å¼·ã«ãªã£ãŸã®ã§ã€æœ€åˆã‹ã‚‰#1ã‹ã‚‰ã¾ã¨ã‚ã¦ã„ã
æ¦‚è¦ export const fruitCounts = { apple: 1, pear: 4, banana: 26 } ä¸Šè¨˜ã®æ§˜ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸæ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§å®šç¾©ã™ã‚‹ã¨ä»¥ä¸‹ã«ãªã‚‹ã€‚
type SingleFruitCount = | { apple: number } | { banana: number } | { pear: number } const singleFruitCount: SingleFruitCount = { apple: 10, } SingleFruitCountã®å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆã™ã‚Œã°ã€å‹å®šç¾©ã§ãã‚‹ãŒå®šæ•°fruitCountsã‚’å‹æ¨è«–ã•ã›ã¦å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚
æœ¬é¡Œ æœ€çµ‚çš„ãªã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚å…·ä½“çš„ã«è§£èª¬ã—ã¦ã„ãã€‚
type FruitCounts = typeof fruitCounts type NewSingleFruitCount = { [ K in keyof FruitCounts ]: { [ K2 in K ]: number } }[keyof FruitCounts] // type NewSingleFruitCount = { // apple: number; // } | { // pear: number; // } | { // banana: number; // } typeof fruitCountsã¯å‹æ¨è«–ãŒåŠ¹ã„ã¦ä»¥ä¸‹ã®å‹ãŒä½œæˆã•ã‚Œã‚‹ã€‚ type FruitCounts = { apple: number; pear: number; banana: number; } [ K in keyof FruitCounts ]ã®keyof FruitCountsã¯å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã®ã¿ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_tip-1/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div><div class=blog-brief>
<a href=/posts/typescript_react-sample-code-reading/>
<h3 class="title is-4">
ã‚Šã‚ã‚¯ãƒˆã®TypeScriptã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
</h3>
</a>
<div class="level is-mobile details">
<div class=level-left>
<div class=level-item>
<a href=/posts/typescript_react-sample-code-reading/>
<p class="subtitle info date">Apr 2, 2022
</p>
</a>
</div>
<div class=level-item>
<a href=/posts/typescript_react-sample-code-reading/>
<p class="subtitle info">
7 mins read
</p>
</a>
</div>
</div>
<div class="level-right is-hidden-touch">
<a class="tag is-rounded" href=/tags/typescript>TypeScript</a>
</div>
</div>
<div>
<div>
<a href=/posts/typescript_react-sample-code-reading/>
<p class=summary>
èƒŒæ™¯ TypeScriptã®æ•™æã§ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã®ã§ã€ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦ã„ãã€‚
æ¦‚è¦ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãã€‚
éåŒæœŸãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°ã‚’ãƒ©ãƒƒãƒ—ã—ã¦ã€ãã“ã§èµ·ãã‚‹ä¾‹å¤–ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¤ã¤æ­£å¸¸ç³»ã¨ç•°å¸¸ç³»ã«æŒ¯ã‚Šåˆ†ã‘ã‚‹é–¢æ•°ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã€‚
type Result&lt;T, E extends Error> = Ok&lt;T, E> | Err&lt;T, E> export class Ok&lt;T, E extends Error> { constructor(readonly val: T) {} isOk = (): this is Ok&lt;T, E> => true isErr = (): this is Err&lt;T, E> => false } export class Err&lt;T, E extends Error> { constructor(readonly err: E) {} isOk = (): this is Ok&lt;T, E> => false isErr = (): this is Err&lt;T, E> => true } export const withResult = &lt;T, A extends any[], E extends Error>(fn: (.
</p>
</a>
</div>
</div>
<div class="level is-mobile continue-reading">
<div class=level-left>
</div>
<div class=level-right>
<a href=/posts/typescript_react-sample-code-reading/>ç¶šãã‚’èª­ã‚€ <i class="fa fa-angle-double-right" aria-hidden=true></i></a>
</div>
</div>
<hr>
</div>
</div>
</div>
<footer class="footer has-background-dark">
<div class="content has-text-centered has-text-white">
<p>Â© 2022 issei1213 All rights reserved.</p>
</div>
</footer>
</body>
</html>