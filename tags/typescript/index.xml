<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>TypeScript on TechBlog</title><link>https://issei1213.github.io/tags/typescript/</link><description>Recent content in TypeScript on TechBlog</description><generator>Hugo -- gohugo.io</generator><language>ja-jp</language><lastBuildDate>Fri, 31 May 2024 00:27:26 +0900</lastBuildDate><atom:link href="https://issei1213.github.io/tags/typescript/index.xml" rel="self" type="application/rss+xml"/><item><title>Typescript Exhaustive Check</title><link>https://issei1213.github.io/posts/typescript-exhaustive-check/</link><pubDate>Fri, 31 May 2024 00:27:26 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript-exhaustive-check/</guid><description>èƒŒæ™¯ ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’èª­ã‚“ã§ã„ã¦ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã«ã¤ã„ã¦çŸ¥ã£ãŸã®ã§ã€TypeScriptã§ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã«ã¤ã„ã¦è‡ªåˆ†ãªã‚Šã«ã¾ã¨ã‚ã¦ã¿ãŸã€‚
æ¦‚è¦ ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã¨ã¯ã€å…¨ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’ç¶²ç¾…ã—ã¦ã„ã‚‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ã‚‹ã“ã¨ã‚’æŒ‡ã™ã€‚ TypeScriptã¯æ§˜ã€…ãªã‚±ãƒ¼ã‚¹ã§åˆ©ç”¨ã§ãã‚‹ãŒã€ä»Šå›ã¯æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’åˆ©ç”¨ã—ã¦ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
æœ¬é¡Œ ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã™ã‚‹ã€‚ Fruitå‹ã«ã¯appleã€bananaã€orangeã®3ã¤ã®æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ãŒã‚ã‚Šã€checkAllFruitHandleré–¢æ•°ã¯Fruitå‹ã‚’å¼•æ•°ã«å–ã‚Šã€ãã®å€¤ã«ã‚ˆã£ã¦å‡¦ç†ã‚’åˆ†å²ã—ã¦ã„ã‚‹ã€‚ ã“ã“ã§ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«console.logã§å‡ºåŠ›ã—ã¦ã„ã‚‹ã€‚
type Fruit = &amp;#39;apple&amp;#39; | &amp;#39;banana&amp;#39; | &amp;#39;orange&amp;#39;; function checkAllFruitHandler(fruit: Fruit): void { if(fruit === &amp;#39;apple&amp;#39;) { console.log(&amp;#39;This is an apple.&amp;#39;); return } else if (fruit === &amp;#39;banana&amp;#39;) { console.log(&amp;#39;This is a banana.&amp;#39;); return } else { console.log(&amp;#39;This is an orange.&amp;#39;); return } } checkAllFruitHandler(&amp;#39;apple&amp;#39;) // This is an apple. checkAllFruitHandler(&amp;#39;banana&amp;#39;) // This is an banana. checkAllFruitHandler(&amp;#39;orange&amp;#39;) // This is an orange.</description></item><item><title>Component Typesã¨Event Handlers</title><link>https://issei1213.github.io/posts/solidjs_types/</link><pubDate>Fri, 12 Aug 2022 21:08:23 +0900</pubDate><guid>https://issei1213.github.io/posts/solidjs_types/</guid><description>èƒŒæ™¯ SolidJSã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹å®šç¾©ã«ã¤ã„ã¦æ‚©ã‚“ã§ã„ãŸãŒã€å…¬å¼ã§è§£èª¬ãŒä¹—ã£ã¦ã„ãŸã®ã§ã€
å€‹äººçš„ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã«ã™ã‚‹ã€‚
æ¦‚è¦ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹å®šç¾©ã®æ–¹æ³•ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
å…¬å¼ã§ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹ã‚’Component Typesã€ã‚¨ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®å‹ã‚’Event Handlersã¨ã—ã¦è¨˜è¼‰ã—ã¦ã„ã‚‹ã®ã§ã€ åŒä¸€ã®å˜èªã‚’ä½¿ç”¨ã—ã¦ã„ãã€‚
æœ¬é¡Œ Component Types Component import type { JSX, Component } from &amp;#39;solid-js&amp;#39;; type Component&amp;lt;P = {}&amp;gt; = (props: P) =&amp;gt; JSX.Element; åŸºæœ¬çš„ã«ã¯Reactã®FCã¨åŒã˜ã‚ˆã†ãªä½¿ã„å‹ãŒã§ãã€propsã®å‹ã‚’ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã§å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
æˆ»ã‚Šå€¤ã¯JSX.Elementã«ãªã‚‹ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã€€â€»å…¬å¼ã®ã‚³ãƒ¼ãƒ‰ã‚’å‚ç…§
import { render } from &amp;#34;solid-js/web&amp;#34;; import { createSignal, Component } from &amp;#34;solid-js&amp;#34;; const Counter: Component = () =&amp;gt; { const [count, setCount] = createSignal(0); return ( &amp;lt;button onClick={() =&amp;gt; setCount((c) =&amp;gt; c+1)}&amp;gt; {count()} &amp;lt;/button&amp;gt; ); }; const InitCounter: Component&amp;lt;{initial: number}&amp;gt; = (props) =&amp;gt; { const [count, setCount] = createSignal(props.</description></item><item><title>TypeScript Tip #20</title><link>https://issei1213.github.io/posts/typescript_tip-20/</link><pubDate>Wed, 20 Apr 2022 23:30:11 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-20/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’è§£èª¬ã—ã¦ã„ãã€‚
TypeScript Tip #20
æ¦‚è¦ ä»¥ä¸‹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹ãŒå­˜åœ¨ã—ã¦ã„ã‚‹æ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã®ãƒãƒªãƒ¥ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³ã‚’ä½œæˆã™ã‚‹æ™‚ã«ä½¿ç”¨ã™ã‚‹ã€‚
export type Obj = { a: &amp;#39;a&amp;#39;, a2: &amp;#39;a2&amp;#39;, a3: &amp;#39;a3&amp;#39;, b: &amp;#39;b&amp;#39;, b1: &amp;#39;b1&amp;#39;, b2: &amp;#39;b2&amp;#39; } // ä¸Šè¨˜ã®å‹ã‹ã‚‰ä»¥ä¸‹ã®å‹ã‚’ä½œæˆã—ãŸã„ type NewUnion = &amp;#34;a&amp;#34; | &amp;#34;a2&amp;#34; | &amp;#34;a3&amp;#34; æœ¬é¡Œ ä»¥ä¸‹ãŒå®Ÿéš›ã®å‹å®šç¾©ã«ãªã‚‹ã€‚é †ç•ªã«è§£èª¬ã—ã¦ã„ãã€‚
type ValuesOfKeysStartingWithA&amp;lt;Obj&amp;gt; = { [K in Extract&amp;lt;keyof Obj, `a${string}`&amp;gt;]: Obj[K]; }[Extract&amp;lt;keyof Obj, `a${string}`&amp;gt;] type NewUnion = ValuesOfKeysStartingWithA&amp;lt;Obj&amp;gt; // type NewUnion = &amp;#34;a&amp;#34; | &amp;#34;a2&amp;#34; | &amp;#34;a3&amp;#34; ä»Šå›ã®ãƒã‚¤ãƒ³ãƒˆã¯Extract&amp;lt;keyof Obj,`a${string}`&amp;gt;ã«ãªã‚‹ãŸã‚ç´°ã‹ãã¿ã¦ã„ãã€‚ ã¾ãšã€a${string}ãŒã©ã®ã‚ˆã†ã«å‹å®šç¾©ã•ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€æ–‡å­—åˆ—aã‚’å«ã‚ã¦æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«å‹ã‚’å®šç¾©ã§ãã‚‹ã€‚ type TestType = `a${string}` // Success const test1: TestType = &amp;#39;a&amp;#39; const test2: TestType = &amp;#39;a1&amp;#39; // Error const test3: TestType = &amp;#39;1&amp;#39; // Type &amp;#39;&amp;#34;1&amp;#34;&amp;#39; is not assignable to type &amp;#39;`a${string}`&amp;#39;.</description></item><item><title>TypeScript Tip #8</title><link>https://issei1213.github.io/posts/typescript_tip-8/</link><pubDate>Fri, 15 Apr 2022 00:14:16 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-8/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®TypeScriptTipsã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
TypeScript Tip #8
æ¦‚è¦ Reactã®ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€å‹•çš„ã§æŸ”è»Ÿãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
æœ¬é¡Œ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯Reactã®ã‚µãƒ³ãƒ—ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚‹ã€‚
Tableã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®propsã«å­˜åœ¨ã™ã‚‹itemsã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã«ãªã£ã¦ã„ã‚‹ã€‚
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£idã®ã¿ã‚’ä¿æŒã—ã¦ã„ã‚‹ã€‚
import React from &amp;#39;react&amp;#39; interface TableProps { items: { id: string }[] renderItem: (item: { id: string }) =&amp;gt; React.ReactNode } export const Table = (props: TableProps) =&amp;gt; { return null } const Component = () =&amp;gt; { return ( &amp;lt;Table items={[ { id: &amp;#39;1&amp;#39;, } ]} renderItem={(item) =&amp;gt; &amp;lt;div&amp;gt;{ item.id }&amp;lt;/div&amp;gt;} &amp;gt;&amp;lt;/Table&amp;gt; ) } ä¸Šè¨˜ã®å ´åˆã€propsitemsã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®idä»¥å¤–ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å®šç¾©ã—ãŸã„å ´åˆã€TablePropsã«ã‚‚è¿½åŠ ã‚’ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ ä»¥ä¸‹ã¯ãã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰</description></item><item><title>TypeScript Tip #7</title><link>https://issei1213.github.io/posts/typescript_tip-7/</link><pubDate>Wed, 13 Apr 2022 23:11:35 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-7/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®è¨˜äº‹ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
TypeScript Tip #7
æ¦‚è¦ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆä¸­èº«ã‚’é †ç•ªã«å‡¦ç†ã—ã¦ã„ãæ™‚ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒã‚ã‚‹ã€‚
const myObject = { a: 1, b: 2, c: 3 } Object.keys(myObject).forEach((key) =&amp;gt; { console.log(myObject[key]) // Element implicitly has an &amp;#39;any&amp;#39; type because expression of type &amp;#39;string&amp;#39; can&amp;#39;t be used to index type &amp;#39;{ a: number; b: number; c: number; }&amp;#39;. // No index signature with a parameter of type &amp;#39;string&amp;#39; was found on type &amp;#39;{ a: number; b: number; c: number; }&amp;#39;.</description></item><item><title>TypeScript Tip #5</title><link>https://issei1213.github.io/posts/typescript_tip-5/</link><pubDate>Sun, 10 Apr 2022 12:43:14 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-5/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattã•ã‚“ã®å‹•ç”»ã‚’ã¾ã¨ã‚ã¦ã„ã
TypeScript Tip #5
æ¦‚è¦ å‹æ¨è«–ã•ã‚ŒãŸå‹ã«å¯¾ã—ã¦extendsã‚’ä½¿ç”¨ã™ã‚‹ã¾ã¨ã‚ã¦ã„ãã€‚
æœ¬é¡Œ å®Ÿéš›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã€‚ getDeepValueé–¢æ•°ã®å¼•æ•°ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã—ã¦ã€ãã“ã‹ã‚‰å‹æ¨è«–ã‚’ã•ã›ã¦ã„ã‚‹ã€‚
ç¬¬2å¼•æ•°ã€ç¬¬3å¼•æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã‚’æŒ‡å®šã—ã¦ã€æœ€çµ‚çš„ãªãƒãƒªãƒ¥ãƒ¼ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ãªé–¢æ•°ã‚’ä½œæˆã™ã‚‹ã€‚
export const getDeepValue = &amp;lt; Obj, FirstKey extends keyof Obj, SecondKey extends keyof Obj[FirstKey] &amp;gt;( obj: Obj, firstKey: FirstKey, secondKey: SecondKey ): Obj[FirstKey][SecondKey] =&amp;gt; { return obj[firstKey][secondKey] } const obj = { foo: { a: true, b: 2 }, bar: { c: &amp;#39;cool&amp;#39;, d: 2 } } console.log(getDeepValue(obj, &amp;#39;bar&amp;#39;, &amp;#39;d&amp;#39;)) å¼•æ•°ã®ç¬¬2å¼•æ•°FirstKeyã¯å‹æ¨è«–ã•ã‚ŒãŸObjã«åˆ¶ç´„ã‚’è¨­ã‘ã¦ã„ã‚‹ã€‚ FirstKey extends keyof { foo: { a: boolean; b: number; }; bar: { c: string; d: number; }; } ğŸ”½ FirstKey extends &amp;#34;foo&amp;#34; | &amp;#34;bar&amp;#34; ã‚ˆã£ã¦ã€FirstKeyã¯fooã‹barã®ã©ã¡ã‚‰ã‹ã«ãªã‚‹ã€‚</description></item><item><title>TypeScript Tip #3</title><link>https://issei1213.github.io/posts/typescript_tip-3/</link><pubDate>Sat, 09 Apr 2022 01:13:25 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-3/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattoã•ã‚“ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãã€‚
TypeScript Tip #3
æ¦‚è¦ ä»Šå›ã¯TypeScriptã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ã¾ã¨ã‚ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªts-toolbeltã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã€‚
æ³¨æ„ç‚¹ã¨ã—ã¦ã¯ã€TypeScriptãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ4.1ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ æ•°å¤šãã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒæä¾›ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ä»Šå›ã¯Mattã•ã‚“ã®è§£èª¬ã«çµã£ã¦ã¾ã¨ã‚ã¦ã„ãã€‚
ts-toolbelt
æœ¬é¡Œ ä½¿ã„æ–¹ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸­ã‹ã‚‰ä½¿ç”¨ã—ãŸã„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’importã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚
import { String, Union } from &amp;#39;ts-toolbelt&amp;#39;; ä»Šå›ã¯URLã®æ“ä½œã‚’ã™ã‚‹æ™‚ã«ä¾¿åˆ©ãªãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ã¾ã¨ã‚ã¦ã„ãã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ import { String, Union } from &amp;#39;ts-toolbelt&amp;#39;; const query = &amp;#39;/home?a=foo&amp;amp;b=wow&amp;#39; type Query = typeof query // type Query = &amp;#34;/home?a=foo&amp;amp;b=wow&amp;#34; type SecondQueryPart = String.Split&amp;lt;Query, &amp;#39;?&amp;#39;&amp;gt;[1] // type SecondQueryPart = &amp;#34;a=foo&amp;amp;b=wow&amp;#34; type QueryElements = String.Split&amp;lt;SecondQueryPart, &amp;#39;&amp;amp;&amp;#39;&amp;gt; // type QueryElements = [&amp;#34;a=foo&amp;#34;, &amp;#34;b=wow&amp;#34;] type QueryParams = { [ QueryElement in QueryElements[number] ]: { [ key in String.</description></item><item><title>TypeScript Tip #2</title><link>https://issei1213.github.io/posts/typescript_tip-2/</link><pubDate>Fri, 08 Apr 2022 20:26:20 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-2/</guid><description>èƒŒæ™¯ ä»Šå›ã‚‚mattoã•ã‚“ã®TypeScriptã®å‹•ç”»ã‚’ã¾ã¨ã‚ã¦ã„ã
æ¦‚è¦ ä¸‹è¨˜ã®æ§˜ãªEntityã®å‹ã‚’å®šç¾©ã™ã‚‹ã€‚
type Entity = | { type: &amp;#39;user&amp;#39; } | { type: &amp;#39;post&amp;#39; } | { type: &amp;#39;comment&amp;#39; } ä¸Šè¨˜ã®å‹ã®å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«idã‚’è¿½åŠ ã—ãŸã„ã€‚ãã®æ™‚ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚
typeã«å¿œã˜ãŸidã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¿½åŠ ã—ã¦ã„ã‚‹ã€‚
type EntityWithId = | { type: &amp;#39;user&amp;#39; userId: string } | { type: &amp;#39;post&amp;#39; postId: string } | { type: &amp;#39;comment&amp;#39; commentId: string } const result1: EntityWithId = { type: &amp;#39;post&amp;#39;, postId: &amp;#39;123&amp;#39; } const result2: EntityWithId = { type: &amp;#39;user&amp;#39;, userId: &amp;#39;123&amp;#39; } ä»Šå›ã¯EntityWithIdã®éƒ¨åˆ†ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚·ã‚°ãƒãƒãƒ£ã‚’åˆ©ç”¨ã—ã¦ä½œæˆã—ã¦ã„ãã€‚
æœ¬é¡Œ å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚ç´°ã‹ãã¿ã¦ã„ãã€‚</description></item><item><title>TypeScript Tip #1</title><link>https://issei1213.github.io/posts/typescript_tip-1/</link><pubDate>Thu, 07 Apr 2022 12:43:39 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-1/</guid><description>èƒŒæ™¯ å‰å›ã®mattã•ã‚“ã®TypeScript Tip #15ãŒå‹‰å¼·ã«ãªã£ãŸã®ã§ã€æœ€åˆã‹ã‚‰#1ã‹ã‚‰ã¾ã¨ã‚ã¦ã„ã
æ¦‚è¦ export const fruitCounts = { apple: 1, pear: 4, banana: 26 } ä¸Šè¨˜ã®æ§˜ãªã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸæ™‚ã«ã€ç‰¹å®šã®ã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§å®šç¾©ã™ã‚‹ã¨ä»¥ä¸‹ã«ãªã‚‹ã€‚
type SingleFruitCount = | { apple: number } | { banana: number } | { pear: number } const singleFruitCount: SingleFruitCount = { apple: 10, } SingleFruitCountã®å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆã™ã‚Œã°ã€å‹å®šç¾©ã§ãã‚‹ãŒå®šæ•°fruitCountsã‚’å‹æ¨è«–ã•ã›ã¦å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½œæˆã™ã‚‹ã€‚
æœ¬é¡Œ æœ€çµ‚çš„ãªã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚‹ã€‚å…·ä½“çš„ã«è§£èª¬ã—ã¦ã„ãã€‚
type FruitCounts = typeof fruitCounts type NewSingleFruitCount = { [ K in keyof FruitCounts ]: { [ K2 in K ]: number } }[keyof FruitCounts] // type NewSingleFruitCount = { // apple: number; // } | { // pear: number; // } | { // banana: number; // } typeof fruitCountsã¯å‹æ¨è«–ãŒåŠ¹ã„ã¦ä»¥ä¸‹ã®å‹ãŒä½œæˆã•ã‚Œã‚‹ã€‚ type FruitCounts = { apple: number; pear: number; banana: number; } [ K in keyof FruitCounts ]ã®keyof FruitCountsã¯å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚­ãƒ¼ã®ã¿ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚</description></item><item><title>ã‚Šã‚ã‚¯ãƒˆã®TypeScriptã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</title><link>https://issei1213.github.io/posts/typescript_react-sample-code-reading/</link><pubDate>Sat, 02 Apr 2022 13:39:20 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_react-sample-code-reading/</guid><description>èƒŒæ™¯ TypeScriptã®æ•™æã§ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã®ã§ã€ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦ã„ãã€‚
æ¦‚è¦ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã—ã¦ã„ãã€‚
éåŒæœŸãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°ã‚’ãƒ©ãƒƒãƒ—ã—ã¦ã€ãã“ã§èµ·ãã‚‹ä¾‹å¤–ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¤ã¤æ­£å¸¸ç³»ã¨ç•°å¸¸ç³»ã«æŒ¯ã‚Šåˆ†ã‘ã‚‹é–¢æ•°ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã€‚
type Result&amp;lt;T, E extends Error&amp;gt; = Ok&amp;lt;T, E&amp;gt; | Err&amp;lt;T, E&amp;gt; export class Ok&amp;lt;T, E extends Error&amp;gt; { constructor(readonly val: T) {} isOk = (): this is Ok&amp;lt;T, E&amp;gt; =&amp;gt; true isErr = (): this is Err&amp;lt;T, E&amp;gt; =&amp;gt; false } export class Err&amp;lt;T, E extends Error&amp;gt; { constructor(readonly err: E) {} isOk = (): this is Ok&amp;lt;T, E&amp;gt; =&amp;gt; false isErr = (): this is Err&amp;lt;T, E&amp;gt; =&amp;gt; true } export const withResult = &amp;lt;T, A extends any[], E extends Error&amp;gt;(fn: (.</description></item><item><title>TypeScript Tip #15</title><link>https://issei1213.github.io/posts/typescript_tip-15/</link><pubDate>Fri, 01 Apr 2022 23:23:48 +0900</pubDate><guid>https://issei1213.github.io/posts/typescript_tip-15/</guid><description>èƒŒæ™¯ Twitterã‚’çœºã‚ã¦ã„ã‚‹ã¨æ±ç”¨æ€§ãŒé«˜ãã†ãªé–¢æ•°ã‚’ä½œæˆã§ãã‚‹TypeScriptã®ãƒ„ã‚¤ãƒ¼ãƒˆãŒã‚ã£ãŸã®ã§ã€æ•´ç†ã™ã‚‹ãŸã‚ã«ã¾ã¨ã‚ã‚‹ã€‚
TypeScript Tip #15 æ¦‚è¦ é–¢æ•°ã®å¼•æ•°ã®ã‚¿ã‚¤ãƒ—ã‚’ã¿ã¦ã€ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦payloadãŒå¿…è¦ã‹å¿…è¦ãŒãªã„ã‹ã‚’TypeScriptã§åˆ¤æ–­ã™ã‚‹ã€‚
// ç¬¬ä¸€å¼•æ•°ãŒSIGN_OUTã®å ´åˆã¯ã€payloadã¯ãªã— sendEvent(&amp;#39;SIGN_OUT&amp;#39;) // ç¬¬ä¸€å¼•æ•°ãŒLOG_INã®å ´åˆã¯ã€payloadã¯å¿…é ˆ sendEvent(&amp;#34;LOG_IN&amp;#34;, { userId: &amp;#39;123&amp;#39; }) æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³
sendEvent(&amp;#39;SIGN_OUT&amp;#39;) sendEvent(&amp;#34;LOG_IN&amp;#34;, { userId: &amp;#39;123&amp;#39; }) å¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³(ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼)
sendEvent(&amp;#39;SIGN_OUT&amp;#39;, {}) sendEvent(&amp;#39;LOG_IN&amp;#39;, { userId: 122 }) sendEvent(&amp;#39;LOG_IN&amp;#39;, {}) sendEvent(&amp;#39;LOG_IN&amp;#39;) æœ¬é¡Œ ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§å®Ÿç¾å¯èƒ½
type AuthEvent = | { type: &amp;#39;LOG_IN&amp;#39; payload: { userId: string } } | { type: &amp;#39;SIGN_OUT&amp;#39; } const sendEvent = &amp;lt;Type extends AuthEvent[&amp;#39;type&amp;#39;]&amp;gt;( ...args: Extract&amp;lt;AuthEvent, { type: Type }&amp;gt; extends { payload: infer TPayload } ?</description></item></channel></rss>